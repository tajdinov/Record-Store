{"code":"(this[\"webpackJsonpmern-client\"]=this[\"webpackJsonpmern-client\"]||[]).push([[0],{81:function(e,t,c){},85:function(e,t,c){},89:function(e,t,c){\"use strict\";c.r(t);var n=c(2),a=c.n(n),r=c(64),s=c.n(r),i=(c(81),c(5)),o=c(9),j=c(12),d=c(7),l=c(70),u=c(100),h=c(102),b=c(99),O=c(67);function m(e,t){return 1===t?e:e+\"s\"}function p(e,t,c){return new Promise((function(n,a){var r,s,i,o=window.indexedDB.open(\"shop-shop\",1);o.onupgradeneeded=function(e){var t=o.result;t.createObjectStore(\"products\",{keyPath:\"_id\"}),t.createObjectStore(\"categories\",{keyPath:\"_id\"}),t.createObjectStore(\"cart\",{keyPath:\"_id\"}),t.createObjectStore(\"thought\",{keyPath:\"_id\"})},o.onerror=function(e){console.log(\"There was an error\")},o.onsuccess=function(a){switch(r=o.result,s=r.transaction(e,\"readwrite\"),i=s.objectStore(e),r.onerror=function(e){console.log(\"error\",e)},t){case\"put\":i.put(c),n(c);break;case\"get\":var j=i.getAll();j.onsuccess=function(){n(j.result)};break;case\"delete\":i.delete(c._id);break;default:console.log(\"No valid method\")}s.oncomplete=function(){r.close()}}}))}var x=c(71),g=c(17),f=\"UPDATE_PRODUCTS\",v=\"ADD_TO_CART\",y=\"ADD_MULTIPLE_TO_CART\",N=\"REMOVE_FROM_CART\",_=\"UPDATE_CART_QUANTITY\",w=\"TOGGLE_CART\",T=\"UPDATE_CATEGORIES\",k=\"UPDATE_CURRENT_CATEGORY\",A=function(e,t){switch(t.type){case f:return console.log(t.products),Object(o.a)(Object(o.a)({},e),{},{products:Object(g.a)(t.products)});case v:return Object(o.a)(Object(o.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(g.a)(e.cart),[t.product])});case y:return Object(o.a)(Object(o.a)({},e),{},{cart:[].concat(Object(g.a)(e.cart),Object(g.a)(t.products))});case _:return Object(o.a)(Object(o.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case N:var c=e.cart.filter((function(e){return e._id!==t._id}));return Object(o.a)(Object(o.a)({},e),{},{cartOpen:c.length>0,cart:c});case\"CLEAR_CART\":return Object(o.a)(Object(o.a)({},e),{},{cartOpen:!1,cart:[]});case w:return Object(o.a)(Object(o.a)({},e),{},{cartOpen:!e.cartOpen});case T:return Object(o.a)(Object(o.a)({},e),{},{categories:Object(g.a)(t.categories)});case\"REMOVE_THOUGHT\":return Object(o.a)(Object(o.a)({},e),{},{thought:t.thought});case k:return Object(o.a)(Object(o.a)({},e),{},{currentCategory:t.currentCategory});default:return e}};var C=c(0),S=[\"value\"],I=Object(n.createContext)(),E=I.Provider,$=function(e){e.value;var t,c=Object(x.a)(e,S),a=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:\"\"},Object(n.useReducer)(A,t)),r=Object(i.a)(a,2),s=r[0],j=r[1];return Object(C.jsx)(E,Object(o.a)({value:[s,j]},c))},D=function(){return Object(n.useContext)(I)};var P,Q,q,F,R,L,U,H,z=function(e){var t=D(),c=Object(i.a)(t,2),n=c[0],a=c[1],r=e.image,s=e.name,d=e._id,l=e.price,u=e.quantity,h=n.cart;return Object(C.jsxs)(\"div\",{className:\"card px-1 py-1\",children:[Object(C.jsxs)(j.b,{to:\"/products/\".concat(d),children:[Object(C.jsx)(\"img\",{alt:s,src:\"/images/\".concat(r)}),Object(C.jsx)(\"p\",{children:s})]}),Object(C.jsxs)(\"div\",{children:[Object(C.jsxs)(\"div\",{className:\"productStock\",children:[u,\" \",m(\"item\",u),\" in stock\"]}),Object(C.jsxs)(\"span\",{className:\"productStock\",children:[\"$\",l]})]}),Object(C.jsx)(\"button\",{className:\"btnAdd\",onClick:function(){var t=h.find((function(e){return e._id===d}));t?(a({type:_,_id:d,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),p(\"cart\",\"put\",Object(o.a)(Object(o.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(a({type:v,product:Object(o.a)(Object(o.a)({},e),{},{purchaseQuantity:1})}),p(\"cart\",\"put\",Object(o.a)(Object(o.a)({},e),{},{purchaseQuantity:1})))},children:\"Add to cart\"})]})},G=c(72),Y=c(19),B=c(101),M=Object(B.a)(P||(P=Object(Y.a)([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),J=Object(B.a)(Q||(Q=Object(Y.a)([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"]))),W=(Object(B.a)(q||(q=Object(Y.a)([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"]))),Object(B.a)(F||(F=Object(Y.a)([\"\\n  {\\n    categories {\\n      _id\\n      name\\n    }\\n  }\\n\"])))),V=Object(B.a)(R||(R=Object(Y.a)([\"\\n {\\n    user {\\n      _id\\n      firstName\\n      lastName\\n      thoughts {\\n        _id\\n        thoughtText\\n        createdAt\\n      }\\n      orders {\\n        _id\\n        purchaseDate\\n        products {\\n          _id\\n          name\\n          description\\n          price\\n          quantity\\n          image\\n        }\\n      }\\n    }\\n  }\\n\"]))),X=Object(B.a)(L||(L=Object(Y.a)([\"\\n  query getThoughts {\\n    thoughts {\\n      _id\\n      thoughtText\\n      thoughtAuthor\\n      createdAt\\n      comments {\\n        _id\\n        commentText\\n        commentAuthor\\n        createdAt\\n      }\\n    }\\n  }\\n\"]))),K=Object(B.a)(U||(U=Object(Y.a)([\"\\n  query getSingleThought($_id: ID!) {\\n    thought(_id: $_id) {\\n      _id\\n      thoughtText\\n      thoughtAuthor\\n      createdAt\\n      comments {\\n        _id\\n        commentText\\n        commentAuthor\\n        createdAt\\n      }\\n    }\\n  }\\n\"]))),Z=(Object(B.a)(H||(H=Object(Y.a)([\"\\n  query me {\\n    me {\\n      _id\\n      firstName\\n      email\\n      thoughts {\\n        _id\\n        thoughtText\\n        thoughtAuthor\\n        createdAt\\n      }\\n    }\\n  }\\n\"]))),c.p+\"static/media/spinner.7e729fec.gif\");var ee=function(){var e=D(),t=Object(i.a)(e,2),c=t[0],a=t[1],r=c.currentCategory,s=Object(G.b)(M),o=s.loading,j=s.data;return Object(n.useEffect)((function(){j?(a({type:f,products:j.products}),j.products.forEach((function(e){p(\"products\",\"put\",e)}))):o||p(\"products\",\"get\").then((function(e){a({type:f,products:e})}))}),[j,o,a]),Object(C.jsxs)(\"div\",{className:\"container my-2\",children:[Object(C.jsx)(\"h5\",{children:\"Our Products:\"}),c.products.length?Object(C.jsx)(\"div\",{className:\"flex-row\",children:(r?c.products.filter((function(e){return e.category._id===r})):c.products).map((function(e){return Object(C.jsx)(z,{_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity},e._id)}))}):Object(C.jsx)(\"h3\",{children:\"You haven't added any products yet!\"}),o?Object(C.jsx)(\"img\",{src:Z,alt:\"loading\"}):null]})};var te=function(){var e=D(),t=Object(i.a)(e,2),c=t[0],a=t[1],r=c.categories,s=Object(G.b)(W),o=s.loading,j=s.data;return Object(n.useEffect)((function(){j?(a({type:T,categories:j.categories}),j.categories.forEach((function(e){p(\"categories\",\"put\",e)}))):o||p(\"categories\",\"get\").then((function(e){a({type:T,categories:e})}))}),[j,o,a]),Object(C.jsxs)(\"div\",{className:\"\",children:[Object(C.jsx)(\"h4\",{children:\"Choose a Category:\"}),r.map((function(e){return Object(C.jsx)(\"button\",{className:\"catBtn\",onClick:function(){var t;t=e._id,a({type:k,currentCategory:t})},children:e.name},e._id)}))]})},ce=c(8),ne=c(14),ae=c(65),re=c(96),se=function(e){var t=e.item,c=D(),n=Object(i.a)(c,2)[1];return Object(C.jsxs)(\"div\",{className:\"flex-row\",children:[Object(C.jsx)(\"div\",{children:Object(C.jsx)(\"img\",{src:\"/images/\".concat(t.image),alt:\"\"})}),Object(C.jsxs)(\"div\",{children:[Object(C.jsxs)(\"div\",{className:\"cartName\",children:[t.name,\", $\",t.price]}),Object(C.jsxs)(\"div\",{children:[Object(C.jsx)(\"span\",{children:\"Qty:\"}),Object(C.jsx)(\"input\",{type:\"number\",placeholder:\"1\",value:t.purchaseQuantity,onChange:function(e){var c=e.target.value;\"0\"===c?(n({type:N,_id:t._id}),p(\"cart\",\"delete\",Object(o.a)({},t))):(n({type:_,_id:t._id,purchaseQuantity:parseInt(c)}),p(\"cart\",\"put\",Object(o.a)(Object(o.a)({},t),{},{purchaseQuantity:parseInt(c)})))}}),Object(C.jsx)(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function(){return function(e){n({type:N,_id:e._id}),p(\"cart\",\"delete\",Object(o.a)({},e))}(t)},children:\"\\ud83d\\uddd1\\ufe0f\"})]})]})]})},ie=c(28),oe=c(27),je=c(57),de=c.n(je),le=new(function(){function e(){Object(ie.a)(this,e)}return Object(oe.a)(e,[{key:\"getProfile\",value:function(){return de()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:\"isTokenExpired\",value:function(e){try{return de()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}());c(85);c(86).config();var ue=Object(ae.a)(\"pk_test_L1f0e3XAzjsG7jtp4uN7L9ql\"),he=function(){var e=D(),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(re.a)(J),s=Object(i.a)(r,2),o=s[0],j=s[1].data;function d(){a({type:w})}return Object(n.useEffect)((function(){j&&ue.then((function(e){e.redirectToCheckout({sessionId:j.checkout.session})}))}),[j]),Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(Object(ce.a)().mark((function e(){var t;return Object(ce.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(\"cart\",\"get\");case 2:t=e.sent,a({type:y,products:Object(g.a)(t)});case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}c.cart.length||function(){e.apply(this,arguments)}()}),[c.cart.length,a]),c.cartOpen?Object(C.jsxs)(\"div\",{className:\"cart\",children:[Object(C.jsx)(\"div\",{className:\"close\",onClick:d,children:\"[close]\"}),Object(C.jsx)(\"h2\",{children:\"Shopping Cart\"}),c.cart.length?Object(C.jsxs)(\"div\",{children:[c.cart.map((function(e){return Object(C.jsx)(se,{item:e},e._id)})),Object(C.jsxs)(\"div\",{className:\"flex-row space-between\",children:[Object(C.jsxs)(\"strong\",{children:[\"Total: $\",function(){var e=0;return c.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()]}),le.loggedIn()?Object(C.jsx)(\"button\",{onClick:function(){var e=[];c.cart.forEach((function(t){for(var c=0;c<t.purchaseQuantity;c++)e.push(t._id)})),o({variables:{products:e}})},children:\"Checkout\"}):Object(C.jsx)(\"span\",{children:\"(log in to check out)\"})]})]}):Object(C.jsx)(\"h3\",{children:\"Cart is empty\"})]}):Object(C.jsx)(\"div\",{className:\"cart-closed\",onClick:d,children:Object(C.jsx)(\"span\",{role:\"img\",\"aria-label\":\"trash\",children:\"\\ud83d\\uded2\"})})},be=function(){return Object(C.jsxs)(\"div\",{className:\"container\",children:[Object(C.jsx)(te,{}),Object(C.jsx)(ee,{}),Object(C.jsx)(he,{})]})};var Oe=function(){var e=D(),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(d.n)().id,s=Object(n.useState)({}),l=Object(i.a)(s,2),u=l[0],h=l[1],b=Object(G.b)(M),O=b.loading,m=b.data,x=c.products,g=c.cart;return Object(n.useEffect)((function(){x.length?h(x.find((function(e){return e._id===r}))):m?(a({type:f,products:m.products}),m.products.forEach((function(e){p(\"products\",\"put\",e)}))):O||p(\"products\",\"get\").then((function(e){a({type:f,products:e})}))}),[x,m,O,a,r]),Object(C.jsxs)(C.Fragment,{children:[u&&g?Object(C.jsxs)(\"div\",{className:\"container my-1\",children:[Object(C.jsx)(j.b,{to:\"/\",children:\"\\u2190 Back to Products\"}),Object(C.jsx)(\"h2\",{children:u.name}),Object(C.jsx)(\"p\",{children:u.description}),Object(C.jsxs)(\"p\",{children:[Object(C.jsx)(\"strong\",{children:\"Price:\"}),\"$\",u.price,\" \",Object(C.jsx)(\"button\",{onClick:function(){var e=g.find((function(e){return e._id===r}));e?(a({type:_,_id:r,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),p(\"cart\",\"put\",Object(o.a)(Object(o.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(a({type:v,product:Object(o.a)(Object(o.a)({},u),{},{purchaseQuantity:1})}),p(\"cart\",\"put\",Object(o.a)(Object(o.a)({},u),{},{purchaseQuantity:1})))},children:\"Add to Cart\"}),Object(C.jsx)(\"button\",{disabled:!g.find((function(e){return e._id===u._id})),onClick:function(){a({type:N,_id:u._id}),p(\"cart\",\"delete\",Object(o.a)({},u))},children:\"Remove from Cart\"})]}),Object(C.jsx)(\"img\",{src:\"/images/\".concat(u.image),alt:u.name})]}):null,O?Object(C.jsx)(\"img\",{src:Z,alt:\"loading\"}):null,Object(C.jsx)(he,{})]})};var me,pe,xe,ge,fe,ve,ye=function(e){var t=e.children;return Object(C.jsx)(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"},children:t})},Ne=function(){return Object(C.jsx)(\"div\",{children:Object(C.jsxs)(ye,{children:[Object(C.jsx)(\"h1\",{children:\"404 Page Not Found\"}),Object(C.jsx)(\"h1\",{children:Object(C.jsx)(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\",children:\"\\ud83d\\ude44\"})})]})})},_e=c(16),we=c(97),Te=Object(B.a)(me||(me=Object(Y.a)([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        firstName\\n      }\\n    }\\n  }\\n\"]))),ke=Object(B.a)(pe||(pe=Object(Y.a)([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        category {\\n          name\\n        }\\n      }\\n    }\\n  }\\n\"]))),Ae=Object(B.a)(xe||(xe=Object(Y.a)([\"\\n  mutation addUser(\\n    $firstName: String!\\n    $lastName: String!\\n    $email: String!\\n    $password: String!\\n  ) {\\n    addUser(\\n      firstName: $firstName\\n      lastName: $lastName\\n      email: $email\\n      password: $password\\n    ) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),Ce=Object(B.a)(ge||(ge=Object(Y.a)([\"\\n  mutation addThought($thoughtText: String!) {\\n    addThought(thoughtText: $thoughtText) {\\n      _id\\n      thoughtText\\n      thoughtAuthor\\n      createdAt\\n      comments {\\n        _id\\n        commentText\\n      }\\n    }\\n  }\\n\"]))),Se=Object(B.a)(fe||(fe=Object(Y.a)([\"\\n  mutation removeThought($thoughtId: ID!) {\\n    removeThought(thoughtId: $thoughtId) {\\n      _id\\n      thoughtText\\n      thoughtAuthor\\n      createdAt\\n      comments {\\n        _id\\n        commentText\\n      }\\n    }\\n  }\\n\"]))),Ie=Object(B.a)(ve||(ve=Object(Y.a)([\"\\n  mutation addComment($thoughtId: ID!, $commentText: String!) {\\n    addComment(thoughtId: $thoughtId, commentText: $commentText) {\\n      _id\\n      thoughtText\\n      thoughtAuthor\\n      createdAt\\n      comments {\\n        _id\\n        commentText\\n        createdAt\\n      }\\n    }\\n  }\\n\"])));var Ee=function(e){var t=Object(n.useState)({email:\"\",password:\"\"}),c=Object(i.a)(t,2),a=c[0],r=c[1],s=Object(we.a)(Te),d=Object(i.a)(s,2),l=d[0],u=d[1].error,h=function(){var e=Object(ne.a)(Object(ce.a)().mark((function e(t){var c,n;return Object(ce.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,l({variables:{email:a.email,password:a.password}});case 4:c=e.sent,n=c.data.login.token,le.login(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,c=t.name,n=t.value;r(Object(o.a)(Object(o.a)({},a),{},Object(_e.a)({},c,n)))};return Object(C.jsxs)(\"div\",{className:\"loginContainer container my-1\",children:[Object(C.jsx)(j.b,{to:\"/signup\",children:\"\\u2190 Go to Signup\"}),Object(C.jsx)(\"h2\",{children:\"Login\"}),Object(C.jsxs)(\"form\",{onSubmit:h,children:[Object(C.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(C.jsx)(\"label\",{htmlFor:\"email\",children:\"Email address:\"}),Object(C.jsx)(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:b})]}),Object(C.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(C.jsx)(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),Object(C.jsx)(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:b})]}),u?Object(C.jsx)(\"div\",{children:Object(C.jsx)(\"p\",{className:\"error-text\",children:\"The provided credentials are incorrect\"})}):null,Object(C.jsx)(\"div\",{className:\"flex-row flex-end\",children:Object(C.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})})]})]})};var $e=function(e){var t=Object(n.useState)({email:\"\",password:\"\"}),c=Object(i.a)(t,2),a=c[0],r=c[1],s=Object(we.a)(Ae),d=Object(i.a)(s,1)[0],l=function(){var e=Object(ne.a)(Object(ce.a)().mark((function e(t){var c,n;return Object(ce.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d({variables:{email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName}});case 3:c=e.sent,n=c.data.addUser.token,le.login(n);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){var t=e.target,c=t.name,n=t.value;r(Object(o.a)(Object(o.a)({},a),{},Object(_e.a)({},c,n)))};return Object(C.jsxs)(\"div\",{className:\"loginContainer container my-1\",children:[Object(C.jsx)(j.b,{to:\"/login\",children:\"\\u2190 Go to Login\"}),Object(C.jsx)(\"h2\",{children:\"Signup\"}),Object(C.jsxs)(\"form\",{onSubmit:l,children:[Object(C.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(C.jsx)(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),Object(C.jsx)(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:u})]}),Object(C.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(C.jsx)(\"label\",{htmlFor:\"lastName\",children:\"Last Name:\"}),Object(C.jsx)(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:u})]}),Object(C.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(C.jsx)(\"label\",{htmlFor:\"email\",children:\"Email:\"}),Object(C.jsx)(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:u})]}),Object(C.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(C.jsx)(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),Object(C.jsx)(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:u})]}),Object(C.jsx)(\"div\",{className:\"flex-row flex-end\",children:Object(C.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})})]})]})},De=c.p+\"static/media/record-playerz.389497a6.jpeg\";var Pe=function(){return Object(C.jsxs)(\"header\",{className:\"flex-row px-1\",children:[Object(C.jsx)(\"h1\",{children:Object(C.jsx)(j.b,{to:\"/\",children:Object(C.jsx)(\"img\",{src:De,alt:\"Avatar\",width:100,className:\"avatar\"})})}),Object(C.jsx)(\"nav\",{children:le.loggedIn()?Object(C.jsxs)(\"ul\",{className:\"nav\",children:[Object(C.jsx)(\"li\",{className:\"mx-1\",children:Object(C.jsx)(j.b,{to:\"/forum\",children:\"Forum\"})}),Object(C.jsx)(\"li\",{className:\"mx-1\",children:Object(C.jsx)(j.b,{to:\"/orderHistory\",children:\"Order History\"})}),Object(C.jsx)(\"li\",{className:\"mx-1\",children:Object(C.jsx)(\"a\",{href:\"/\",onClick:function(){return le.logout()},children:\"Logout\"})})]}):Object(C.jsxs)(\"ul\",{className:\"nav\",children:[Object(C.jsx)(\"li\",{className:\"mx-1\",children:Object(C.jsx)(j.b,{to:\"/signup\",children:\"Signup\"})}),Object(C.jsx)(\"li\",{className:\"mx-1\",children:Object(C.jsx)(j.b,{to:\"/login\",children:\"Login\"})})]})})]})};var Qe=function(){var e=Object(we.a)(ke),t=Object(i.a)(e,1)[0];return Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(Object(ce.a)().mark((function e(){var c,n,a,r;return Object(ce.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(\"cart\",\"get\");case 2:if(c=e.sent,!(n=c.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:n}});case 7:a=e.sent,r=a.data,r.addOrder.products.forEach((function(e){p(\"cart\",\"delete\",e)}));case 11:setTimeout((function(){window.location.assign(\"/\")}),3e3);case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(C.jsx)(\"div\",{children:Object(C.jsxs)(ye,{children:[Object(C.jsx)(\"h1\",{children:\"Success!\"}),Object(C.jsx)(\"h2\",{children:\"Thank you for your purchase!\"}),Object(C.jsx)(\"h2\",{children:\"You will now be redirected to the home page\"})]})})};var qe=function(){console.log(\"req\");var e=Object(G.b)(V),t=e.data,c=e.loading;console.log({data:t});var a=Object(n.useState)({user:{},orders:[],thoughts:[]}),r=Object(i.a)(a,2),s=r[0],o=r[1];Object(n.useEffect)((function(){console.log(\"eff\"),console.log({loading:c,data:t}),t&&(console.log({data:t}),o(t.user))}),[t,c]);var d=Object(we.a)(Se,{update:function(e,t){t.data.addThought;try{var c=e.readQuery({query:X}).thoughts;e.writeQuery({query:X,data:{thoughts:[u].concat(Object(g.a)(c))}})}catch(n){console.error(n)}}}),l=Object(i.a)(d,2),u=l[0];return l[1].error,Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(\"div\",{className:\"container px-2\",children:[Object(C.jsx)(j.b,{to:\"/\",children:\"\\u2190 Back to Products\"}),c?\"Loading...\":t&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(\"h2\",{children:[\"Order History for \",s.firstName,\" \",s.lastName]}),s.orders.map((function(e){return Object(C.jsxs)(\"div\",{className:\"my-2\",children:[Object(C.jsx)(\"h3\",{children:new Date(parseInt(e.purchaseDate)).toLocaleDateString()}),Object(C.jsx)(\"div\",{className:\"flex-row\",children:e.products.length&&e.products.map((function(e,t){var c=e._id,n=e.image,a=e.name,r=e.price;return Object(C.jsxs)(\"div\",{className:\"card px-1 py-1\",children:[Object(C.jsxs)(j.b,{to:\"/products/\".concat(c),children:[Object(C.jsx)(\"img\",{alt:a,src:\"/images/\".concat(n)}),Object(C.jsx)(\"p\",{children:a})]}),Object(C.jsx)(\"div\",{children:Object(C.jsxs)(\"span\",{children:[\"$\",r]})})]},t)}))})]},e._id)})),Object(C.jsxs)(\"h2\",{children:[\"Post History for \",s.firstName]}),s.thoughts.map((function(e){return Object(C.jsxs)(\"div\",{className:\"postTexr\",children:[Object(C.jsx)(\"h4\",{className:\"card-header bg-primary text-light p-2 m-0\",children:Object(C.jsxs)(j.b,{className:\"text-light\",to:\"/thoughts/\".concat(e._id),children:[e.thoughtAuthor,\" \",Object(C.jsx)(\"br\",{})]})}),Object(C.jsxs)(\"div\",{className:\"card-body bg-light p-2\",children:[Object(C.jsx)(\"p\",{children:e.thoughtText}),Object(C.jsx)(\"a\",{href:\"/\",children:\"Remove\"})]}),Object(C.jsx)(j.b,{className:\"btn btn-primary btn-block btn-squared\",to:\"/thoughts/\".concat(e._id),children:\"Join the discussion.\"})]},e._id)}))]})]})})},Fe=function(e){var t=e.comments,c=void 0===t?[]:t;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(\"div\",{className:\"\",children:c&&c.map((function(e){return Object(C.jsxs)(\"div\",{className:\"\",children:[Object(C.jsx)(\"div\",{className:\"commentAuthor\",children:Object(C.jsx)(\"p\",{children:e.commentAuthor})}),Object(C.jsxs)(\"div\",{className:\"commentList\",children:[Object(C.jsx)(\"p\",{children:e.commentText}),Object(C.jsx)(\"div\",{children:Object(C.jsx)(\"span\",{style:{fontSize:\"0.6rem\"},children:e.createdAt})})]})]},e._id)}))})})},Re=function(e){var t=e.thoughts;e.title,e.showTitle,e.showfirstName;return t.length?Object(C.jsx)(\"div\",{children:t&&t.map((function(e){return Object(C.jsxs)(\"div\",{className:\"post\",children:[Object(C.jsxs)(\"div\",{children:[Object(C.jsx)(\"div\",{className:\"thoughtAuthor\",children:Object(C.jsx)(\"p\",{children:e.thoughtAuthor})}),Object(C.jsxs)(\"div\",{className:\"postText\",children:[Object(C.jsx)(\"p\",{children:e.thoughtText}),Object(C.jsx)(\"div\",{children:Object(C.jsx)(\"span\",{style:{fontSize:\"0.6rem\"},children:e.createdAt})})]}),Object(C.jsx)(\"div\",{children:Object(C.jsx)(Fe,{comments:e.comments})})]}),Object(C.jsx)(j.b,{className:\"btn btn-primary btn-block btn-squared discussion\",to:\"/thoughts/\".concat(e._id),children:Object(C.jsx)(\"p\",{className:\"discussion\",children:\"Join the discussion.\"})})]},e._id)}))}):Object(C.jsx)(\"h3\",{children:\"No Thoughts Yet\"})},Le=function(){var e=Object(n.useState)(\"\"),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(0),s=Object(i.a)(r,2),o=s[0],d=s[1],l=Object(we.a)(Ce,{update:function(e,t){var c=t.data.addThought;try{var n=e.readQuery({query:X}).thoughts;e.writeQuery({query:X,data:{thoughts:[c].concat(Object(g.a)(n))}})}catch(a){console.error(a)}}}),u=Object(i.a)(l,2),h=u[0],b=u[1].error,O=function(){var e=Object(ne.a)(Object(ce.a)().mark((function e(t){var n;return Object(ce.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h({variables:{thoughtText:c,thoughtAuthor:le.getProfile().data.firstName}});case 4:n=e.sent,n.data,a(\"\"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)(\"div\",{children:[Object(C.jsx)(\"h3\",{children:\"What's on your mind?\"}),le.loggedIn()?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(\"p\",{className:\"m-0 \".concat(280===o||b?\"text-danger\":\"\"),children:[\"Character Count: \",o,\"/280\"]}),Object(C.jsxs)(\"form\",{className:\"flex-row justify-center justify-space-between-md align-center\",onSubmit:O,children:[Object(C.jsx)(\"div\",{className:\"col-12 col-lg-9\",children:Object(C.jsx)(\"textarea\",{name:\"thoughtText\",placeholder:\"...\",value:c,className:\"form-input w-100\",style:{lineHeight:\"1.5\",resize:\"vertical\"},onChange:function(e){var t=e.target,c=t.name,n=t.value;\"thoughtText\"===c&&n.length<=280&&(a(n),d(n.length))}})}),Object(C.jsx)(\"div\",{className:\"col-12 col-lg-3\",children:Object(C.jsx)(\"button\",{className:\"btn btn-primary btn-block py-3\",type:\"submit\",children:\"Add Thought\"})}),b&&Object(C.jsx)(\"div\",{className:\"col-12 my-3 bg-danger text-white p-3\",children:b.message})]})]}):Object(C.jsxs)(\"p\",{children:[\"You need to be logged in to share your thoughts. Please\",\" \",Object(C.jsx)(j.b,{to:\"/login\",children:\"login\"}),\" or \",Object(C.jsx)(j.b,{to:\"/signup\",children:\"signup.\"})]})]})},Ue=function(){var e=Object(G.b)(X),t=e.loading,c=e.data,n=(null===c||void 0===c?void 0:c.thoughts)||[];return Object(C.jsxs)(\"div\",{className:\"container px-2\",children:[Object(C.jsx)(j.b,{to:\"/\",children:\" Home\"}),Object(C.jsx)(\"div\",{children:Object(C.jsx)(Le,{})}),Object(C.jsx)(\"div\",{className:\"\",children:t?Object(C.jsx)(\"div\",{children:\"Loading...\"}):Object(C.jsx)(Re,{thoughts:n,title:\"Some Feed for Thought(s)...\"})})]})},He=function(e){var t=e.thoughtId,c=Object(n.useState)(\"\"),a=Object(i.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(0),d=Object(i.a)(o,2),l=d[0],u=d[1],h=Object(we.a)(Ie),b=Object(i.a)(h,2),O=b[0],m=b[1].error,p=function(){var e=Object(ne.a)(Object(ce.a)().mark((function e(c){var n;return Object(ce.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,e.next=4,O({variables:{thoughtId:t,commentText:r,commentAuthor:le.getProfile().data.firstName}});case 4:n=e.sent,n.data,s(\"\"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)(\"div\",{children:[Object(C.jsx)(\"h4\",{children:\"What are your thoughts on this thought?\"}),le.loggedIn()?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(\"p\",{className:\"m-0 \".concat(280===l||m?\"text-danger\":\"\"),children:[\"Character Count: \",l,\"/280\",m&&Object(C.jsx)(\"span\",{className:\"ml-2\",children:m.message})]}),Object(C.jsxs)(\"form\",{className:\"flex-row justify-center justify-space-between-md align-center\",onSubmit:p,children:[Object(C.jsx)(\"div\",{className:\"col-12 col-lg-9\",children:Object(C.jsx)(\"textarea\",{name:\"commentText\",placeholder:\"Add your comment...\",value:r,className:\"form-input w-100\",style:{lineHeight:\"1.5\",resize:\"vertical\"},onChange:function(e){var t=e.target,c=t.name,n=t.value;\"commentText\"===c&&n.length<=280&&(s(n),u(n.length))}})}),Object(C.jsx)(\"div\",{className:\"col-12 col-lg-3\",children:Object(C.jsx)(\"button\",{className:\"btn btn-primary btn-block py-3\",type:\"submit\",children:\"Add Comment\"})})]})]}):Object(C.jsxs)(\"p\",{children:[\"You need to be logged in to share your thoughts. Please\",\" \",Object(C.jsx)(j.b,{to:\"/login\",children:\"login\"}),\" or \",Object(C.jsx)(j.b,{to:\"/signup\",children:\"signup.\"})]})]})},ze=function(){var e=window.location.pathname,t=e.substring(e.lastIndexOf(\"/\")+1),c=Object(G.b)(K,{variables:{_id:t}}),n=c.loading,a=c.data,r=(null===a||void 0===a?void 0:a.thought)||{};return n?Object(C.jsx)(\"div\",{children:\"Loading...\"}):Object(C.jsxs)(\"div\",{children:[Object(C.jsxs)(\"div\",{children:[Object(C.jsxs)(\"h3\",{className:\"\",children:[r.thoughtAuthor,\" \",Object(C.jsx)(\"br\",{}),Object(C.jsx)(\"span\",{style:{fontSize:\"1rem\"},children:r.createdAt})]}),Object(C.jsx)(\"div\",{children:Object(C.jsx)(\"blockquote\",{children:r.thoughtText})})]}),Object(C.jsx)(\"div\",{className:\"\",children:Object(C.jsx)(Fe,{comments:r.comments})}),Object(C.jsx)(\"div\",{children:Object(C.jsx)(He,{thoughtId:r._id})})]})},Ge=c(66),Ye=c.n(Ge),Be=Object(l.a)({uri:\"/graphql\"}),Me=Object(O.a)((function(e,t){var c=t.headers,n=localStorage.getItem(\"id_token\");return{headers:Object(o.a)(Object(o.a)({},c),{},{authorization:n?\"Bearer \".concat(n):\"\"})}})),Je=new u.a({link:Me.concat(Be),cache:new h.a});var We=function(){var e=Ye()(\"dark\"),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(C.jsx)(b.a,{client:Je,children:Object(C.jsx)(j.a,{children:Object(C.jsxs)(\"div\",{className:\"app\",\"data-theme\":c,children:[Object(C.jsx)(\"div\",{children:Object(C.jsxs)(\"label\",{className:\"switch\",onClick:function(){n(\"light\"===c?\"dark\":\"light\")},children:[\" \",\"light\"===c?\"\\u263d\":\"\\u263c\"]})}),Object(C.jsxs)($,{children:[Object(C.jsx)(Pe,{}),Object(C.jsxs)(d.c,{children:[Object(C.jsx)(d.a,{path:\"/\",element:Object(C.jsx)(be,{})}),Object(C.jsx)(d.a,{path:\"/login\",element:Object(C.jsx)(Ee,{})}),Object(C.jsx)(d.a,{path:\"/signup\",element:Object(C.jsx)($e,{})}),Object(C.jsx)(d.a,{path:\"/success\",element:Object(C.jsx)(Qe,{})}),Object(C.jsx)(d.a,{path:\"/orderHistory\",element:Object(C.jsx)(qe,{})}),Object(C.jsx)(d.a,{path:\"/forum\",element:Object(C.jsx)(Ue,{})}),Object(C.jsx)(d.a,{path:\"/products/:id\",element:Object(C.jsx)(Oe,{})}),Object(C.jsx)(d.a,{path:\"/thoughts/:thoughtId\",element:Object(C.jsx)(ze,{})}),Object(C.jsx)(d.a,{path:\"*\",element:Object(C.jsx)(Ne,{})})]})]})]})})})};s.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(We,{})}),document.getElementById(\"root\"))}},[[89,1,2]]]);","name":"static/js/main.0b498b13.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","objectSpread2","dist","react_router_dist","createHttpLink","ApolloClient","inMemoryCache","ApolloProvider","context","pluralize","name","count","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","objectWithoutProperties","toConsumableArray","UPDATE_PRODUCTS","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","UPDATE_CART_QUANTITY","TOGGLE_CART","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","reducers_reducer","state","action","type","products","Object","cartOpen","cart","concat","product","map","purchaseQuantity","newState","filter","length","categories","thought","currentCategory","jsx_runtime","_excluded","StoreContext","Provider","GlobalState_StoreProvider","_ref","value","initialState","props","_useProductReducer","_useProductReducer2","dispatch","GlobalState_useStoreContext","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","components_ProductItem","item","_useStoreContext","_useStoreContext2","image","price","quantity","className","children","to","alt","src","onClick","itemInCart","find","cartItem","parseInt","useQuery","taggedTemplateLiteral","lib","QUERY_PRODUCTS","QUERY_CHECKOUT","QUERY_CATEGORIES","QUERY_USER","QUERY_THOUGHTS","queries_QUERY_SINGLE_THOUGHT","spinner","p","components_ProductList","_useQuery","loading","data","forEach","then","category","components_CategoryMenu","categoryData","id","regeneratorRuntime","asyncToGenerator","stripe_esm","useLazyQuery","components_CartItem","placeholder","onChange","target","role","removeFromCart","classCallCheck","createClass","jwt_decode_lib","lib_default","auth","AuthService","key","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","assign","removeItem","config","stripePromise","components_Cart","_useLazyQuery","_useLazyQuery2","getCheckout","toggleCart","res","redirectToCheckout","sessionId","checkout","session","_getCart","mark","_callee","wrap","_context","prev","next","sent","stop","apply","arguments","getCart","sum","toFixed","calculateTotal","loggedIn","productIds","i","variables","pages_Home","pages_Detail","_useState","_useState2","currentProduct","setCurrentProduct","indexedProducts","description","disabled","mutations_templateObject","mutations_templateObject2","mutations_templateObject3","mutations_templateObject4","mutations_templateObject5","mutations_templateObject6","components_Jumbotron","style","height","clear","paddingTop","textAlign","pages_NoMatch","defineProperty","useMutation","LOGIN","ADD_ORDER","ADD_USER","ADD_THOUGHT","mutations_REMOVE_THOUGHT","ADD_COMMENT","pages_Login","email","password","formState","setFormState","_useMutation","_useMutation2","login","error","handleFormSubmit","event","mutationResponse","preventDefault","t0","_x","handleChange","_event$target","onSubmit","htmlFor","pages_Signup","addUser","firstName","lastName","record_playerz","components_Nav","width","href","logout","pages_Success","addOrder","_saveOrder","_yield$addOrder","setTimeout","saveOrder","pages_OrderHistory","user","orders","thoughts","setUser","update","cache","addThought","readQuery","query","writeQuery","removeThought","order","purchaseDate","toLocaleDateString","_ref2","index","thoughtAuthor","thoughtText","components_CommentList","_ref$comments","comments","comment","commentAuthor","commentText","fontSize","createdAt","components_ThoughtList","title","showTitle","showfirstName","components_ThoughtForm","setThoughtText","_useState3","_useState4","characterCount","setCharacterCount","_yield$addThought","getProfile","lineHeight","resize","message","pages_Forum","components_CommentForm","thoughtId","setCommentText","addComment","_yield$addComment","pages_SingleThought","url","pathname","substring","lastIndexOf","use_local_storage_dist","dist_default","httpLink","uri","authLink","_","headers","authorization","client","link","src_App","_useLocalStorage","_useLocalStorage2","theme","setTheme","path","element","a","render","StrictMode","document","getElementById"],"sources":["static/js/main.0b498b13.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpmern-client\"] = this[\"webpackJsonpmern-client\"] || []).push([[0],{\n\n/***/ 81:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 85:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(64);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(81);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/http/createHttpLink.js + 16 modules\nvar createHttpLink = __webpack_require__(70);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/core/ApolloClient.js + 13 modules\nvar ApolloClient = __webpack_require__(100);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/cache/inmemory/inMemoryCache.js + 8 modules\nvar inMemoryCache = __webpack_require__(102);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/context/ApolloProvider.js\nvar ApolloProvider = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/context/index.js\nvar context = __webpack_require__(67);\n\n// CONCATENATED MODULE: ./src/utils/helpers.js\nfunction pluralize(name,count){if(count===1){return name;}return name+'s';}function idbPromise(storeName,method,object){return new Promise(function(resolve,reject){var request=window.indexedDB.open('shop-shop',1);var db,tx,store;request.onupgradeneeded=function(e){var db=request.result;db.createObjectStore('products',{keyPath:'_id'});db.createObjectStore('categories',{keyPath:'_id'});db.createObjectStore('cart',{keyPath:'_id'});db.createObjectStore('thought',{keyPath:'_id'});};request.onerror=function(e){console.log('There was an error');};request.onsuccess=function(e){db=request.result;tx=db.transaction(storeName,'readwrite');store=tx.objectStore(storeName);db.onerror=function(e){console.log('error',e);};switch(method){case'put':store.put(object);resolve(object);break;case'get':var all=store.getAll();all.onsuccess=function(){resolve(all.result);};break;case'delete':store.delete(object._id);break;default:console.log('No valid method');break;}tx.oncomplete=function(){db.close();};};});}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(71);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(17);\n\n// CONCATENATED MODULE: ./src/utils/actions.js\nvar UPDATE_PRODUCTS=\"UPDATE_PRODUCTS\";var ADD_TO_CART=\"ADD_TO_CART\";var ADD_MULTIPLE_TO_CART=\"ADD_MULTIPLE_TO_CART\";var REMOVE_FROM_CART=\"REMOVE_FROM_CART\";var CLEAR_CART=\"CLEAR_CART\";var UPDATE_CART_QUANTITY=\"UPDATE_CART_QUANTITY\";var TOGGLE_CART=\"TOGGLE_CART\";var UPDATE_CATEGORIES=\"UPDATE_CATEGORIES\";var UPDATE_CURRENT_CATEGORY=\"UPDATE_CURRENT_CATEGORY\";var QUERY_SINGLE_THOUGHT=\"QUERY_SINGLE_THOUGHT\";var REMOVE_THOUGHT=\"REMOVE_THOUGHT\";\n// CONCATENATED MODULE: ./src/utils/reducers.js\nvar reducers_reducer=function reducer(state,action){switch(action.type){case UPDATE_PRODUCTS:console.log(action.products);return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{products:Object(toConsumableArray[\"a\" /* default */])(action.products)});case ADD_TO_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:true,cart:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.cart),[action.product])});case ADD_MULTIPLE_TO_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cart:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.cart),Object(toConsumableArray[\"a\" /* default */])(action.products))});case UPDATE_CART_QUANTITY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:true,cart:state.cart.map(function(product){if(action._id===product._id){product.purchaseQuantity=action.purchaseQuantity;}return product;})});case REMOVE_FROM_CART:var newState=state.cart.filter(function(product){return product._id!==action._id;});return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:newState.length>0,cart:newState});case CLEAR_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:false,cart:[]});case TOGGLE_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:!state.cartOpen});case UPDATE_CATEGORIES:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{categories:Object(toConsumableArray[\"a\" /* default */])(action.categories)});case REMOVE_THOUGHT:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{thought:action.thought});case UPDATE_CURRENT_CATEGORY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{currentCategory:action.currentCategory});default:return state;}};function useProductReducer(initialState){return Object(react[\"useReducer\"])(reducers_reducer,initialState);}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/utils/GlobalState.js\nvar _excluded=[\"value\"];var StoreContext=/*#__PURE__*/Object(react[\"createContext\"])();var Provider=StoreContext.Provider;var GlobalState_StoreProvider=function StoreProvider(_ref){var _ref$value=_ref.value,value=_ref$value===void 0?[]:_ref$value,props=Object(objectWithoutProperties[\"a\" /* default */])(_ref,_excluded);var _useProductReducer=useProductReducer({products:[],cart:[],cartOpen:false,categories:[],currentCategory:''}),_useProductReducer2=Object(slicedToArray[\"a\" /* default */])(_useProductReducer,2),state=_useProductReducer2[0],dispatch=_useProductReducer2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Provider,Object(objectSpread2[\"a\" /* default */])({value:[state,dispatch]},props));};var GlobalState_useStoreContext=function useStoreContext(){return Object(react[\"useContext\"])(StoreContext);};\n// CONCATENATED MODULE: ./src/components/ProductItem/index.js\nfunction ProductItem(item){var _useStoreContext=GlobalState_useStoreContext(),_useStoreContext2=Object(slicedToArray[\"a\" /* default */])(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var image=item.image,name=item.name,_id=item._id,price=item.price,quantity=item.quantity;var cart=state.cart;var addToCart=function addToCart(){var itemInCart=cart.find(function(cartItem){return cartItem._id===_id;});if(itemInCart){dispatch({type:UPDATE_CART_QUANTITY,_id:_id,purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},itemInCart),{},{purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1}));}else{dispatch({type:ADD_TO_CART,product:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:1})});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:1}));}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card px-1 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(dist[\"b\" /* Link */],{to:\"/products/\".concat(_id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:name,src:\"/images/\".concat(image)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"productStock\",children:[quantity,\" \",pluralize(\"item\",quantity),\" in stock\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"productStock\",children:[\"$\",price]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btnAdd\",onClick:addToCart,children:\"Add to cart\"})]});}/* harmony default export */ var components_ProductItem = (ProductItem);\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useQuery.js + 1 modules\nvar useQuery = __webpack_require__(72);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 10 modules\nvar lib = __webpack_require__(101);\n\n// CONCATENATED MODULE: ./src/utils/queries.js\nvar _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8;var QUERY_PRODUCTS=Object(lib[\"a\" /* gql */])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var QUERY_CHECKOUT=Object(lib[\"a\" /* gql */])(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"])));var QUERY_ALL_PRODUCTS=Object(lib[\"a\" /* gql */])(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"])));var QUERY_CATEGORIES=Object(lib[\"a\" /* gql */])(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    categories {\\n      _id\\n      name\\n    }\\n  }\\n\"])));var QUERY_USER=Object(lib[\"a\" /* gql */])(_templateObject5||(_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n {\\n    user {\\n      _id\\n      firstName\\n      lastName\\n      thoughts {\\n        _id\\n        thoughtText\\n        createdAt\\n      }\\n      orders {\\n        _id\\n        purchaseDate\\n        products {\\n          _id\\n          name\\n          description\\n          price\\n          quantity\\n          image\\n        }\\n      }\\n    }\\n  }\\n\"])));var QUERY_THOUGHTS=Object(lib[\"a\" /* gql */])(_templateObject6||(_templateObject6=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query getThoughts {\\n    thoughts {\\n      _id\\n      thoughtText\\n      thoughtAuthor\\n      createdAt\\n      comments {\\n        _id\\n        commentText\\n        commentAuthor\\n        createdAt\\n      }\\n    }\\n  }\\n\"])));var queries_QUERY_SINGLE_THOUGHT=Object(lib[\"a\" /* gql */])(_templateObject7||(_templateObject7=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query getSingleThought($_id: ID!) {\\n    thought(_id: $_id) {\\n      _id\\n      thoughtText\\n      thoughtAuthor\\n      createdAt\\n      comments {\\n        _id\\n        commentText\\n        commentAuthor\\n        createdAt\\n      }\\n    }\\n  }\\n\"])));var QUERY_ME=Object(lib[\"a\" /* gql */])(_templateObject8||(_templateObject8=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query me {\\n    me {\\n      _id\\n      firstName\\n      email\\n      thoughts {\\n        _id\\n        thoughtText\\n        thoughtAuthor\\n        createdAt\\n      }\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/assets/spinner.gif\n/* harmony default export */ var spinner = (__webpack_require__.p + \"static/media/spinner.7e729fec.gif\");\n// CONCATENATED MODULE: ./src/components/ProductList/index.js\nfunction ProductList(){var _useStoreContext=GlobalState_useStoreContext(),_useStoreContext2=Object(slicedToArray[\"a\" /* default */])(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var currentCategory=state.currentCategory;var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_PRODUCTS),loading=_useQuery.loading,data=_useQuery.data;Object(react[\"useEffect\"])(function(){if(data){dispatch({type:UPDATE_PRODUCTS,products:data.products});data.products.forEach(function(product){idbPromise('products','put',product);});}else if(!loading){idbPromise('products','get').then(function(products){dispatch({type:UPDATE_PRODUCTS,products:products});});}},[data,loading,dispatch]);function filterProducts(){if(!currentCategory){return state.products;}return state.products.filter(function(product){return product.category._id===currentCategory;});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{children:\"Our Products:\"}),state.products.length?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row\",children:filterProducts().map(function(product){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProductItem,{_id:product._id,image:product.image,name:product.name,price:product.price,quantity:product.quantity},product._id);})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"You haven't added any products yet!\"}),loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:spinner,alt:\"loading\"}):null]});}/* harmony default export */ var components_ProductList = (ProductList);\n// CONCATENATED MODULE: ./src/components/CategoryMenu/index.js\nfunction CategoryMenu(){var _useStoreContext=GlobalState_useStoreContext(),_useStoreContext2=Object(slicedToArray[\"a\" /* default */])(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var categories=state.categories;var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_CATEGORIES),loading=_useQuery.loading,categoryData=_useQuery.data;Object(react[\"useEffect\"])(function(){if(categoryData){dispatch({type:UPDATE_CATEGORIES,categories:categoryData.categories});categoryData.categories.forEach(function(category){idbPromise('categories','put',category);});}else if(!loading){idbPromise('categories','get').then(function(categories){dispatch({type:UPDATE_CATEGORIES,categories:categories});});}},[categoryData,loading,dispatch]);var handleClick=function handleClick(id){dispatch({type:UPDATE_CURRENT_CATEGORY,currentCategory:id});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Choose a Category:\"}),categories.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"catBtn\",onClick:function onClick(){handleClick(item._id);},children:item.name},item._id);})]});}/* harmony default export */ var components_CategoryMenu = (CategoryMenu);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/@stripe/stripe-js/dist/stripe.esm.js\nvar stripe_esm = __webpack_require__(65);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useLazyQuery.js\nvar useLazyQuery = __webpack_require__(96);\n\n// CONCATENATED MODULE: ./src/components/CartItem/index.js\nvar CartItem_CartItem=function CartItem(_ref){var item=_ref.item;var _useStoreContext=GlobalState_useStoreContext(),_useStoreContext2=Object(slicedToArray[\"a\" /* default */])(_useStoreContext,2),dispatch=_useStoreContext2[1];var removeFromCart=function removeFromCart(item){dispatch({type:REMOVE_FROM_CART,_id:item._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},item));};var onChange=function onChange(e){var value=e.target.value;if(value==='0'){dispatch({type:REMOVE_FROM_CART,_id:item._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},item));}else{dispatch({type:UPDATE_CART_QUANTITY,_id:item._id,purchaseQuantity:parseInt(value)});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:parseInt(value)}));}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/images/\".concat(item.image),alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"cartName\",children:[item.name,\", $\",item.price]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Qty:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",placeholder:\"1\",value:item.purchaseQuantity,onChange:onChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function onClick(){return removeFromCart(item);},children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]})]});};/* harmony default export */ var components_CartItem = (CartItem_CartItem);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/lib/index.js\nvar jwt_decode_lib = __webpack_require__(57);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(jwt_decode_lib);\n\n// CONCATENATED MODULE: ./src/utils/auth.js\nvar auth_AuthService=/*#__PURE__*/function(){function AuthService(){Object(classCallCheck[\"a\" /* default */])(this,AuthService);}Object(createClass[\"a\" /* default */])(AuthService,[{key:\"getProfile\",value:function getProfile(){return lib_default()(this.getToken());}},{key:\"loggedIn\",value:function loggedIn(){// Checks if there is a saved token and it's still valid\nvar token=this.getToken();return token&&!this.isTokenExpired(token)?true:false;}},{key:\"isTokenExpired\",value:function isTokenExpired(token){try{var decoded=lib_default()(token);if(decoded.exp<Date.now()/1000){return true;}else return false;}catch(err){return false;}}},{key:\"getToken\",value:function getToken(){// Retrieves the user token from localStorage\nreturn localStorage.getItem('id_token');}},{key:\"login\",value:function login(idToken){// Saves user token to localStorage\nlocalStorage.setItem('id_token',idToken);window.location.assign('/');}},{key:\"logout\",value:function logout(){// Clear user token and profile data from localStorage\nlocalStorage.removeItem('id_token');// this will reload the page and reset the state of the application\nwindow.location.assign('/');}}]);return AuthService;}();/* harmony default export */ var auth = (new auth_AuthService());\n// EXTERNAL MODULE: ./src/components/Cart/style.css\nvar style = __webpack_require__(85);\n\n// CONCATENATED MODULE: ./src/components/Cart/index.js\n__webpack_require__(86).config();// stripePromise returns a promise with the stripe object as soon as the Stripe package loads\nvar stripePromise=Object(stripe_esm[\"a\" /* loadStripe */])('pk_test_L1f0e3XAzjsG7jtp4uN7L9ql');var Cart_Cart=function Cart(){var _useStoreContext=GlobalState_useStoreContext(),_useStoreContext2=Object(slicedToArray[\"a\" /* default */])(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var _useLazyQuery=Object(useLazyQuery[\"a\" /* useLazyQuery */])(QUERY_CHECKOUT),_useLazyQuery2=Object(slicedToArray[\"a\" /* default */])(_useLazyQuery,2),getCheckout=_useLazyQuery2[0],data=_useLazyQuery2[1].data;// We check to see if there is a data object that exists, if so this means that a checkout session was returned from the backend\n// Then we should redirect to the checkout with a reference to our session id\nObject(react[\"useEffect\"])(function(){if(data){stripePromise.then(function(res){res.redirectToCheckout({sessionId:data.checkout.session});});}},[data]);// If the cart's length or if the dispatch function is updated, check to see if the cart is empty.\n// If so, invoke the getCart method and populate the cart with the existing from the session\nObject(react[\"useEffect\"])(function(){function getCart(){return _getCart.apply(this,arguments);}function _getCart(){_getCart=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var cart;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return idbPromise('cart','get');case 2:cart=_context.sent;dispatch({type:ADD_MULTIPLE_TO_CART,products:Object(toConsumableArray[\"a\" /* default */])(cart)});case 4:case\"end\":return _context.stop();}}},_callee);}));return _getCart.apply(this,arguments);}if(!state.cart.length){getCart();}},[state.cart.length,dispatch]);function toggleCart(){dispatch({type:TOGGLE_CART});}function calculateTotal(){var sum=0;state.cart.forEach(function(item){sum+=item.price*item.purchaseQuantity;});return sum.toFixed(2);}// When the submit checkout method is invoked, loop through each item in the cart\n// Add each item id to the productIds array and then invoke the getCheckout query passing an object containing the id for all our products\nfunction submitCheckout(){var productIds=[];state.cart.forEach(function(item){for(var i=0;i<item.purchaseQuantity;i++){productIds.push(item._id);}});getCheckout({variables:{products:productIds}});}if(!state.cartOpen){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cart-closed\",onClick:toggleCart,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"trash\",children:\"\\uD83D\\uDED2\"})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"cart\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"close\",onClick:toggleCart,children:\"[close]\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Shopping Cart\"}),state.cart.length?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[state.cart.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CartItem,{item:item},item._id);}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"strong\",{children:[\"Total: $\",calculateTotal()]}),auth.loggedIn()?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:submitCheckout,children:\"Checkout\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"(log in to check out)\"})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Cart is empty\"})]});};/* harmony default export */ var components_Cart = (Cart_Cart);\n// CONCATENATED MODULE: ./src/pages/Home.js\nvar Home_Home=function Home(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CategoryMenu,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProductList,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Cart,{})]});};/* harmony default export */ var pages_Home = (Home_Home);\n// CONCATENATED MODULE: ./src/pages/Detail.js\nfunction Detail(){var _useStoreContext=GlobalState_useStoreContext(),_useStoreContext2=Object(slicedToArray[\"a\" /* default */])(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var _useParams=Object(react_router_dist[\"n\" /* useParams */])(),id=_useParams.id;var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentProduct=_useState2[0],setCurrentProduct=_useState2[1];var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_PRODUCTS),loading=_useQuery.loading,data=_useQuery.data;var products=state.products,cart=state.cart;Object(react[\"useEffect\"])(function(){// already in global store\nif(products.length){setCurrentProduct(products.find(function(product){return product._id===id;}));}// retrieved from server\nelse if(data){dispatch({type:UPDATE_PRODUCTS,products:data.products});data.products.forEach(function(product){idbPromise('products','put',product);});}// get cache from idb\nelse if(!loading){idbPromise('products','get').then(function(indexedProducts){dispatch({type:UPDATE_PRODUCTS,products:indexedProducts});});}},[products,data,loading,dispatch,id]);var addToCart=function addToCart(){var itemInCart=cart.find(function(cartItem){return cartItem._id===id;});if(itemInCart){dispatch({type:UPDATE_CART_QUANTITY,_id:id,purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},itemInCart),{},{purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1}));}else{dispatch({type:ADD_TO_CART,product:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},currentProduct),{},{purchaseQuantity:1})});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},currentProduct),{},{purchaseQuantity:1}));}};var removeFromCart=function removeFromCart(){dispatch({type:REMOVE_FROM_CART,_id:currentProduct._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},currentProduct));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[currentProduct&&cart?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/\",children:\"\\u2190 Back to Products\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:currentProduct.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:currentProduct.description}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"Price:\"}),\"$\",currentProduct.price,' ',/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:addToCart,children:\"Add to Cart\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{disabled:!cart.find(function(p){return p._id===currentProduct._id;}),onClick:removeFromCart,children:\"Remove from Cart\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/images/\".concat(currentProduct.image),alt:currentProduct.name})]}):null,loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:spinner,alt:\"loading\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Cart,{})]});}/* harmony default export */ var pages_Detail = (Detail);\n// CONCATENATED MODULE: ./src/components/Jumbotron/index.js\nfunction Jumbotron(_ref){var children=_ref.children;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"},children:children});}/* harmony default export */ var components_Jumbotron = (Jumbotron);\n// CONCATENATED MODULE: ./src/pages/NoMatch.js\nvar NoMatch_NoMatch=function NoMatch(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_Jumbotron,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"404 Page Not Found\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\",children:\"\\uD83D\\uDE44\"})})]})});};/* harmony default export */ var pages_NoMatch = (NoMatch_NoMatch);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useMutation.js\nvar useMutation = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./src/utils/mutations.js\nvar mutations_templateObject,mutations_templateObject2,mutations_templateObject3,mutations_templateObject4,mutations_templateObject5,mutations_templateObject6;var LOGIN=Object(lib[\"a\" /* gql */])(mutations_templateObject||(mutations_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        firstName\\n      }\\n    }\\n  }\\n\"])));var ADD_ORDER=Object(lib[\"a\" /* gql */])(mutations_templateObject2||(mutations_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        category {\\n          name\\n        }\\n      }\\n    }\\n  }\\n\"])));var ADD_USER=Object(lib[\"a\" /* gql */])(mutations_templateObject3||(mutations_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addUser(\\n    $firstName: String!\\n    $lastName: String!\\n    $email: String!\\n    $password: String!\\n  ) {\\n    addUser(\\n      firstName: $firstName\\n      lastName: $lastName\\n      email: $email\\n      password: $password\\n    ) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var ADD_THOUGHT=Object(lib[\"a\" /* gql */])(mutations_templateObject4||(mutations_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addThought($thoughtText: String!) {\\n    addThought(thoughtText: $thoughtText) {\\n      _id\\n      thoughtText\\n      thoughtAuthor\\n      createdAt\\n      comments {\\n        _id\\n        commentText\\n      }\\n    }\\n  }\\n\"])));var mutations_REMOVE_THOUGHT=Object(lib[\"a\" /* gql */])(mutations_templateObject5||(mutations_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation removeThought($thoughtId: ID!) {\\n    removeThought(thoughtId: $thoughtId) {\\n      _id\\n      thoughtText\\n      thoughtAuthor\\n      createdAt\\n      comments {\\n        _id\\n        commentText\\n      }\\n    }\\n  }\\n\"])));var ADD_COMMENT=Object(lib[\"a\" /* gql */])(mutations_templateObject6||(mutations_templateObject6=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addComment($thoughtId: ID!, $commentText: String!) {\\n    addComment(thoughtId: $thoughtId, commentText: $commentText) {\\n      _id\\n      thoughtText\\n      thoughtAuthor\\n      createdAt\\n      comments {\\n        _id\\n        commentText\\n        createdAt\\n      }\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/pages/Login.js\nfunction Login(props){var _useState=Object(react[\"useState\"])({email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(LOGIN),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),login=_useMutation2[0],error=_useMutation2[1].error;var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var mutationResponse,token;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return login({variables:{email:formState.email,password:formState.password}});case 4:mutationResponse=_context.sent;token=mutationResponse.data.login.token;auth.login(token);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"loginContainer container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/signup\",children:\"\\u2190 Go to Signup\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email address:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:handleChange})]}),error?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"error-text\",children:\"The provided credentials are incorrect\"})}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row flex-end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}/* harmony default export */ var pages_Login = (Login);\n// CONCATENATED MODULE: ./src/pages/Signup.js\nfunction Signup(props){var _useState=Object(react[\"useState\"])({email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(ADD_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),addUser=_useMutation2[0];var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var mutationResponse,token;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return addUser({variables:{email:formState.email,password:formState.password,firstName:formState.firstName,lastName:formState.lastName}});case 3:mutationResponse=_context.sent;token=mutationResponse.data.addUser.token;auth.login(token);case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"loginContainer container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/login\",children:\"\\u2190 Go to Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Signup\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"lastName\",children:\"Last Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row flex-end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}/* harmony default export */ var pages_Signup = (Signup);\n// CONCATENATED MODULE: ./src/components/Nav/record-playerz.jpeg\n/* harmony default export */ var record_playerz = (__webpack_require__.p + \"static/media/record-playerz.389497a6.jpeg\");\n// CONCATENATED MODULE: ./src/components/Nav/index.js\nfunction Nav(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"flex-row px-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:record_playerz,alt:\"Avatar\",width:100,className:\"avatar\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{children:showNavigation()})]});function showNavigation(){if(auth.loggedIn()){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"nav\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/forum\",children:\"Forum\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/orderHistory\",children:\"Order History\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/\",onClick:function onClick(){return auth.logout();},children:\"Logout\"})})]});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"nav\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/signup\",children:\"Signup\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/login\",children:\"Login\"})})]});}}}/* harmony default export */ var components_Nav = (Nav);\n// CONCATENATED MODULE: ./src/pages/Success.js\nfunction Success(){var _useMutation=Object(useMutation[\"a\" /* useMutation */])(ADD_ORDER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),addOrder=_useMutation2[0];Object(react[\"useEffect\"])(function(){function saveOrder(){return _saveOrder.apply(this,arguments);}function _saveOrder(){_saveOrder=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var cart,products,_yield$addOrder,data,productData;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return idbPromise('cart','get');case 2:cart=_context.sent;products=cart.map(function(item){return item._id;});if(!products.length){_context.next=11;break;}_context.next=7;return addOrder({variables:{products:products}});case 7:_yield$addOrder=_context.sent;data=_yield$addOrder.data;productData=data.addOrder.products;productData.forEach(function(item){idbPromise('cart','delete',item);});case 11:setTimeout(function(){window.location.assign('/');},3000);case 12:case\"end\":return _context.stop();}}},_callee);}));return _saveOrder.apply(this,arguments);}saveOrder();},[addOrder]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_Jumbotron,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Success!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Thank you for your purchase!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"You will now be redirected to the home page\"})]})});}/* harmony default export */ var pages_Success = (Success);\n// CONCATENATED MODULE: ./src/pages/OrderHistory.js\nfunction OrderHistory(){console.log('req');var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_USER),data=_useQuery.data,loading=_useQuery.loading;console.log({data:data});var _useState=Object(react[\"useState\"])({user:{},orders:[],thoughts:[]}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),user=_useState2[0],setUser=_useState2[1];Object(react[\"useEffect\"])(function(){console.log('eff');console.log({loading:loading,data:data});if(data){console.log({data:data});setUser(data.user);// user = data.user;\n// console.log(user);\n}},[data,loading]);var _useMutation=Object(useMutation[\"a\" /* useMutation */])(mutations_REMOVE_THOUGHT,{update:function update(cache,_ref){var addThought=_ref.data.addThought;try{var _cache$readQuery=cache.readQuery({query:QUERY_THOUGHTS}),thoughts=_cache$readQuery.thoughts;cache.writeQuery({query:QUERY_THOUGHTS,data:{thoughts:[removeThought].concat(Object(toConsumableArray[\"a\" /* default */])(thoughts))}});}catch(e){console.error(e);}// update me object's cache\n// const { me } = cache.readQuery({ query: QUERY_ME });\n// cache.writeQuery({\n//   query: QUERY_ME,\n//   data: { me: { ...me, thoughts: [...me.thoughts, addThought] } },\n// });\n}}),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),removeThought=_useMutation2[0],error=_useMutation2[1].error;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container px-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/\",children:\"\\u2190 Back to Products\"}),loading?'Loading...':data&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Order History for \",user.firstName,\" \",user.lastName]}),user.orders.map(function(order){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:new Date(parseInt(order.purchaseDate)).toLocaleDateString()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row\",children:order.products.length&&order.products.map(function(_ref2,index){var _id=_ref2._id,image=_ref2.image,name=_ref2.name,price=_ref2.price;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card px-1 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(dist[\"b\" /* Link */],{to:\"/products/\".concat(_id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:name,src:\"/images/\".concat(image)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"$\",price]})})]},index);})})]},order._id);}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Post History for \",user.firstName]}),user.thoughts.map(function(thought){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"postTexr\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"card-header bg-primary text-light p-2 m-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(dist[\"b\" /* Link */],{className:\"text-light\",to:\"/thoughts/\".concat(thought._id),children:[thought.thoughtAuthor,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card-body bg-light p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:thought.thoughtText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/\",children:\"Remove\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{className:\"btn btn-primary btn-block btn-squared\",to:\"/thoughts/\".concat(thought._id),children:\"Join the discussion.\"})]},thought._id);})]})]})});}/* harmony default export */ var pages_OrderHistory = (OrderHistory);\n// CONCATENATED MODULE: ./src/components/CommentList/index.js\nvar CommentList_CommentList=function CommentList(_ref){var _ref$comments=_ref.comments,comments=_ref$comments===void 0?[]:_ref$comments;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"\",children:comments&&comments.map(function(comment){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"commentAuthor\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:comment.commentAuthor})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"commentList\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:comment.commentText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'0.6rem'},children:comment.createdAt})})]})]},comment._id);})})});};/* harmony default export */ var components_CommentList = (CommentList_CommentList);\n// CONCATENATED MODULE: ./src/components/ThoughtList/index.js\nvar ThoughtList_ThoughtList=function ThoughtList(_ref){var thoughts=_ref.thoughts,title=_ref.title,_ref$showTitle=_ref.showTitle,showTitle=_ref$showTitle===void 0?true:_ref$showTitle,_ref$showfirstName=_ref.showfirstName,showfirstName=_ref$showfirstName===void 0?true:_ref$showfirstName;if(!thoughts.length){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"No Thoughts Yet\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:thoughts&&thoughts.map(function(thought){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"thoughtAuthor\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:thought.thoughtAuthor})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"postText\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:thought.thoughtText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'0.6rem'},children:thought.createdAt})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CommentList,{comments:thought.comments})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{className:\"btn btn-primary btn-block btn-squared discussion\",to:\"/thoughts/\".concat(thought._id),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"discussion\",children:\"Join the discussion.\"})})]},thought._id);})});};/* harmony default export */ var components_ThoughtList = (ThoughtList_ThoughtList);\n// CONCATENATED MODULE: ./src/components/ThoughtForm/index.js\nvar ThoughtForm_ThoughtForm=function ThoughtForm(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),thoughtText=_useState2[0],setThoughtText=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),characterCount=_useState4[0],setCharacterCount=_useState4[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(ADD_THOUGHT,{update:function update(cache,_ref){var addThought=_ref.data.addThought;try{var _cache$readQuery=cache.readQuery({query:QUERY_THOUGHTS}),thoughts=_cache$readQuery.thoughts;cache.writeQuery({query:QUERY_THOUGHTS,data:{thoughts:[addThought].concat(Object(toConsumableArray[\"a\" /* default */])(thoughts))}});}catch(e){console.error(e);}// update me object's cache\n// const { me } = cache.readQuery({ query: QUERY_ME });\n// cache.writeQuery({\n//   query: QUERY_ME,\n//   data: { me: { ...me, thoughts: [...me.thoughts, addThought] } },\n// });\n}}),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),addThought=_useMutation2[0],error=_useMutation2[1].error;var handleFormSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var _yield$addThought,data;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return addThought({variables:{thoughtText:thoughtText,thoughtAuthor:auth.getProfile().data.firstName}});case 4:_yield$addThought=_context.sent;data=_yield$addThought.data;setThoughtText('');_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleFormSubmit(_x){return _ref2.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;if(name==='thoughtText'&&value.length<=280){setThoughtText(value);setCharacterCount(value.length);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"What's on your mind?\"}),auth.loggedIn()?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"m-0 \".concat(characterCount===280||error?'text-danger':''),children:[\"Character Count: \",characterCount,\"/280\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"flex-row justify-center justify-space-between-md align-center\",onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 col-lg-9\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{name:\"thoughtText\",placeholder:\"...\",value:thoughtText,className:\"form-input w-100\",style:{lineHeight:'1.5',resize:'vertical'},onChange:handleChange})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 col-lg-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary btn-block py-3\",type:\"submit\",children:\"Add Thought\"})}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 my-3 bg-danger text-white p-3\",children:error.message})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"You need to be logged in to share your thoughts. Please\",' ',/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/login\",children:\"login\"}),\" or \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/signup\",children:\"signup.\"})]})]});};/* harmony default export */ var components_ThoughtForm = (ThoughtForm_ThoughtForm);\n// CONCATENATED MODULE: ./src/pages/Forum.js\nvar Forum_Forum=function Forum(){var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_THOUGHTS),loading=_useQuery.loading,data=_useQuery.data;var thoughts=(data===null||data===void 0?void 0:data.thoughts)||[];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container px-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/\",children:\" Home\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ThoughtForm,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"\",children:loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Loading...\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ThoughtList,{thoughts:thoughts,title:\"Some Feed for Thought(s)...\"})})]});};/* harmony default export */ var pages_Forum = (Forum_Forum);\n// CONCATENATED MODULE: ./src/components/CommentForm/index.js\nvar CommentForm_CommentForm=function CommentForm(_ref){var thoughtId=_ref.thoughtId;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),commentText=_useState2[0],setCommentText=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),characterCount=_useState4[0],setCharacterCount=_useState4[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(ADD_COMMENT),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),addComment=_useMutation2[0],error=_useMutation2[1].error;var handleFormSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var _yield$addComment,data;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return addComment({variables:{thoughtId:thoughtId,commentText:commentText,commentAuthor:auth.getProfile().data.firstName}});case 4:_yield$addComment=_context.sent;data=_yield$addComment.data;setCommentText('');_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleFormSubmit(_x){return _ref2.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;if(name==='commentText'&&value.length<=280){setCommentText(value);setCharacterCount(value.length);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"What are your thoughts on this thought?\"}),auth.loggedIn()?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"m-0 \".concat(characterCount===280||error?'text-danger':''),children:[\"Character Count: \",characterCount,\"/280\",error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"ml-2\",children:error.message})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"flex-row justify-center justify-space-between-md align-center\",onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 col-lg-9\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{name:\"commentText\",placeholder:\"Add your comment...\",value:commentText,className:\"form-input w-100\",style:{lineHeight:'1.5',resize:'vertical'},onChange:handleChange})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 col-lg-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary btn-block py-3\",type:\"submit\",children:\"Add Comment\"})})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"You need to be logged in to share your thoughts. Please\",' ',/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/login\",children:\"login\"}),\" or \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/signup\",children:\"signup.\"})]})]});};/* harmony default export */ var components_CommentForm = (CommentForm_CommentForm);\n// CONCATENATED MODULE: ./src/pages/SingleThought.js\n// Import the `useParams()` hook\nvar SingleThought_SingleThought=function SingleThought(){var url=window.location.pathname;var id=url.substring(url.lastIndexOf('/')+1);var _useQuery=Object(useQuery[\"b\" /* useQuery */])(queries_QUERY_SINGLE_THOUGHT,{// pass URL parameter\nvariables:{_id:id}}),loading=_useQuery.loading,data=_useQuery.data;var thought=(data===null||data===void 0?void 0:data.thought)||{};if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{className:\"\",children:[thought.thoughtAuthor,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'1rem'},children:thought.createdAt})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"blockquote\",{children:thought.thoughtText})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CommentList,{comments:thought.comments})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CommentForm,{thoughtId:thought._id})})]});};/* harmony default export */ var pages_SingleThought = (SingleThought_SingleThought);\n// EXTERNAL MODULE: ./node_modules/use-local-storage/dist/index.js\nvar use_local_storage_dist = __webpack_require__(66);\nvar dist_default = /*#__PURE__*/__webpack_require__.n(use_local_storage_dist);\n\n// CONCATENATED MODULE: ./src/App.js\nvar httpLink=Object(createHttpLink[\"a\" /* createHttpLink */])({uri:'/graphql'});var authLink=Object(context[\"a\" /* setContext */])(function(_,_ref){var headers=_ref.headers;var token=localStorage.getItem('id_token');return{headers:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},headers),{},{authorization:token?\"Bearer \".concat(token):''})};});var client=new ApolloClient[\"a\" /* ApolloClient */]({link:authLink.concat(httpLink),cache:new inMemoryCache[\"a\" /* InMemoryCache */]()});function App(){var _useLocalStorage=dist_default()('theme'?'dark':undefined),_useLocalStorage2=Object(slicedToArray[\"a\" /* default */])(_useLocalStorage,2),theme=_useLocalStorage2[0],setTheme=_useLocalStorage2[1];var switchTheme=function switchTheme(){var newTheme=theme==='light'?'dark':'light';setTheme(newTheme);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ApolloProvider[\"a\" /* ApolloProvider */],{client:client,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app\",\"data-theme\":theme,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"switch\",onClick:switchTheme,children:[\" \",theme===\"light\"?\"☽\":\"☼\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(GlobalState_StoreProvider,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Nav,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dist[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Home,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/login\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Login,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/signup\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Signup,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/success\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Success,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/orderHistory\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_OrderHistory,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/forum\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Forum,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/products/:id\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Detail,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/thoughts/:thoughtId\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_SingleThought,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"*\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_NoMatch,{})})]})]})]})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[89,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/tazh/Desktop/Study/Record-Store/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/tazh/Desktop/Study/Record-Store/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/tazh/Desktop/Study/Record-Store/client/node_modules/postcss-loader/src/index.js??postcss!/Users/tazh/Desktop/Study/Record-Store/client/src/index.css","/Users/tazh/Desktop/Study/Record-Store/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/tazh/Desktop/Study/Record-Store/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/tazh/Desktop/Study/Record-Store/client/node_modules/postcss-loader/src/index.js??postcss!/Users/tazh/Desktop/Study/Record-Store/client/src/components/Cart/style.css","/Users/tazh/Desktop/Study/Record-Store/client/src/utils/helpers.js","/Users/tazh/Desktop/Study/Record-Store/client/src/utils/actions.js","/Users/tazh/Desktop/Study/Record-Store/client/src/utils/reducers.js","/Users/tazh/Desktop/Study/Record-Store/client/src/utils/GlobalState.js","/Users/tazh/Desktop/Study/Record-Store/client/src/components/ProductItem/index.js","/Users/tazh/Desktop/Study/Record-Store/client/src/utils/queries.js","/Users/tazh/Desktop/Study/Record-Store/client/node_modules/url-loader/dist/cjs.js??ref--5-oneOf-1!/Users/tazh/Desktop/Study/Record-Store/client/src/assets/spinner.gif","/Users/tazh/Desktop/Study/Record-Store/client/src/components/ProductList/index.js","/Users/tazh/Desktop/Study/Record-Store/client/src/components/CategoryMenu/index.js","/Users/tazh/Desktop/Study/Record-Store/client/src/components/CartItem/index.js","/Users/tazh/Desktop/Study/Record-Store/client/src/utils/auth.js","/Users/tazh/Desktop/Study/Record-Store/client/src/components/Cart/index.js","/Users/tazh/Desktop/Study/Record-Store/client/src/pages/Home.js","/Users/tazh/Desktop/Study/Record-Store/client/src/pages/Detail.js","/Users/tazh/Desktop/Study/Record-Store/client/src/components/Jumbotron/index.js","/Users/tazh/Desktop/Study/Record-Store/client/src/pages/NoMatch.js","/Users/tazh/Desktop/Study/Record-Store/client/src/utils/mutations.js","/Users/tazh/Desktop/Study/Record-Store/client/src/pages/Login.js","/Users/tazh/Desktop/Study/Record-Store/client/src/pages/Signup.js","/Users/tazh/Desktop/Study/Record-Store/client/node_modules/url-loader/dist/cjs.js??ref--5-oneOf-1!/Users/tazh/Desktop/Study/Record-Store/client/src/components/Nav/record-playerz.jpeg","/Users/tazh/Desktop/Study/Record-Store/client/src/components/Nav/index.js","/Users/tazh/Desktop/Study/Record-Store/client/src/pages/Success.js","/Users/tazh/Desktop/Study/Record-Store/client/src/pages/OrderHistory.js","/Users/tazh/Desktop/Study/Record-Store/client/src/components/CommentList/index.js","/Users/tazh/Desktop/Study/Record-Store/client/src/components/ThoughtList/index.js","/Users/tazh/Desktop/Study/Record-Store/client/src/components/ThoughtForm/index.js","/Users/tazh/Desktop/Study/Record-Store/client/src/pages/Forum.js","/Users/tazh/Desktop/Study/Record-Store/client/src/components/CommentForm/index.js","/Users/tazh/Desktop/Study/Record-Store/client/src/pages/SingleThought.js","/Users/tazh/Desktop/Study/Record-Store/client/src/App.js","/Users/tazh/Desktop/Study/Record-Store/client/src/index.js"],"names":["pluralize","name","count","idbPromise","storeName","method","object","Promise","resolve","reject","request","window","indexedDB","open","db","tx","store","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","UPDATE_PRODUCTS","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","CLEAR_CART","UPDATE_CART_QUANTITY","TOGGLE_CART","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","QUERY_SINGLE_THOUGHT","REMOVE_THOUGHT","reducer","state","action","type","products","cartOpen","cart","product","map","purchaseQuantity","newState","filter","length","categories","thought","currentCategory","useProductReducer","initialState","useReducer","StoreContext","createContext","Provider","StoreProvider","value","props","dispatch","useStoreContext","useContext","ProductItem","item","image","price","quantity","addToCart","itemInCart","find","cartItem","parseInt","QUERY_PRODUCTS","gql","QUERY_CHECKOUT","QUERY_ALL_PRODUCTS","QUERY_CATEGORIES","QUERY_USER","QUERY_THOUGHTS","QUERY_ME","ProductList","useQuery","loading","data","useEffect","forEach","then","filterProducts","category","spinner","CategoryMenu","categoryData","handleClick","id","CartItem","removeFromCart","onChange","target","AuthService","decode","getToken","token","isTokenExpired","decoded","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","assign","removeItem","require","config","stripePromise","loadStripe","Cart","useLazyQuery","getCheckout","res","redirectToCheckout","sessionId","checkout","session","getCart","toggleCart","calculateTotal","sum","toFixed","submitCheckout","productIds","i","push","variables","Auth","loggedIn","Home","Detail","useParams","useState","currentProduct","setCurrentProduct","indexedProducts","description","p","Jumbotron","children","height","clear","paddingTop","textAlign","NoMatch","LOGIN","ADD_ORDER","ADD_USER","ADD_THOUGHT","ADD_COMMENT","Login","email","password","formState","setFormState","useMutation","login","error","handleFormSubmit","event","preventDefault","mutationResponse","handleChange","Signup","addUser","firstName","lastName","Nav","record","showNavigation","logout","Success","addOrder","saveOrder","productData","setTimeout","OrderHistory","user","orders","thoughts","setUser","update","cache","addThought","readQuery","query","writeQuery","removeThought","order","purchaseDate","toLocaleDateString","index","thoughtAuthor","thoughtText","CommentList","comments","comment","commentAuthor","commentText","fontSize","createdAt","ThoughtList","title","showTitle","showfirstName","ThoughtForm","setThoughtText","characterCount","setCharacterCount","getProfile","lineHeight","resize","message","Forum","CommentForm","thoughtId","setCommentText","addComment","SingleThought","url","pathname","substring","lastIndexOf","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","link","concat","InMemoryCache","App","useLocalStorage","theme","setTheme","switchTheme","newTheme","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export function pluralize(name, count) {\n  if (count === 1) {\n    return name;\n  }\n  return name + 's';\n}\n\nexport function idbPromise(storeName, method, object) {\n  return new Promise((resolve, reject) => {\n    const request = window.indexedDB.open('shop-shop', 1);\n    let db, tx, store;\n    request.onupgradeneeded = function(e) {\n      const db = request.result;\n      db.createObjectStore('products', { keyPath: '_id' });\n      db.createObjectStore('categories', { keyPath: '_id' });\n      db.createObjectStore('cart', { keyPath: '_id' });\n      db.createObjectStore('thought', { keyPath: '_id'});\n    };\n\n    request.onerror = function(e) {\n      console.log('There was an error');\n    };\n\n    request.onsuccess = function(e) {\n      db = request.result;\n      tx = db.transaction(storeName, 'readwrite');\n      store = tx.objectStore(storeName);\n\n      db.onerror = function(e) {\n        console.log('error', e);\n      };\n\n      switch (method) {\n        case 'put':\n          store.put(object);\n          resolve(object);\n          break;\n        case 'get':\n          const all = store.getAll();\n          all.onsuccess = function() {\n            resolve(all.result);\n          };\n          break;\n        case 'delete':\n          store.delete(object._id);\n          break;\n        default:\n          console.log('No valid method');\n          break;\n      }\n\n      tx.oncomplete = function() {\n        db.close();\n      };\n    };\n  });\n}\n","export const UPDATE_PRODUCTS = \"UPDATE_PRODUCTS\";\n\nexport const ADD_TO_CART = \"ADD_TO_CART\";\nexport const ADD_MULTIPLE_TO_CART = \"ADD_MULTIPLE_TO_CART\";\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\";\nexport const CLEAR_CART = \"CLEAR_CART\";\nexport const UPDATE_CART_QUANTITY = \"UPDATE_CART_QUANTITY\";\nexport const TOGGLE_CART = \"TOGGLE_CART\";\n\nexport const UPDATE_CATEGORIES = \"UPDATE_CATEGORIES\";\nexport const UPDATE_CURRENT_CATEGORY = \"UPDATE_CURRENT_CATEGORY\";\n\nexport const QUERY_SINGLE_THOUGHT = \"QUERY_SINGLE_THOUGHT\";\n\nexport const REMOVE_THOUGHT = \"REMOVE_THOUGHT\";","import { useReducer } from \"react\";\nimport {\n  UPDATE_PRODUCTS,\n  ADD_TO_CART,\n  UPDATE_CART_QUANTITY,\n  REMOVE_FROM_CART,\n  ADD_MULTIPLE_TO_CART,\n  UPDATE_CATEGORIES,\n  UPDATE_CURRENT_CATEGORY,\n  CLEAR_CART,\n  TOGGLE_CART,\n  REMOVE_THOUGHT,\n} from \"./actions\";\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case UPDATE_PRODUCTS:\n      console.log(action.products);\n      return {\n        ...state,\n        products: [...action.products],\n      };\n\n    case ADD_TO_CART:\n      return {\n        ...state,\n        cartOpen: true,\n        cart: [...state.cart, action.product],\n      };\n\n    case ADD_MULTIPLE_TO_CART:\n      return {\n        ...state,\n        cart: [...state.cart, ...action.products],\n      };\n\n    case UPDATE_CART_QUANTITY:\n      return {\n        ...state,\n        cartOpen: true,\n        cart: state.cart.map(product => {\n          if (action._id === product._id) {\n            product.purchaseQuantity = action.purchaseQuantity\n          }\n          return product\n        })\n      };\n\n    case REMOVE_FROM_CART:\n      let newState = state.cart.filter(product => {\n        return product._id !== action._id;\n      });\n\n      return {\n        ...state,\n        cartOpen: newState.length > 0,\n        cart: newState\n      };\n\n    case CLEAR_CART:\n      return {\n        ...state,\n        cartOpen: false,\n        cart: []\n      };\n\n    case TOGGLE_CART:\n      return {\n        ...state,\n        cartOpen: !state.cartOpen\n      };\n\n    case UPDATE_CATEGORIES:\n      return {\n        ...state,\n        categories: [...action.categories],\n      };\n\n    case REMOVE_THOUGHT: \n        return {\n          ...state,\n          thought: action.thought\n        }\n      \n\n    case UPDATE_CURRENT_CATEGORY:\n      return {\n        ...state,\n        currentCategory: action.currentCategory\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport function useProductReducer(initialState) {\n  return useReducer(reducer, initialState)\n}\n","import React, { createContext, useContext } from \"react\";\nimport { useProductReducer } from './reducers'\n\nconst StoreContext = createContext();\nconst { Provider } = StoreContext;\n\nconst StoreProvider = ({ value = [], ...props }) => {\n  const [state, dispatch] = useProductReducer({\n    products: [],\n    cart: [],\n    cartOpen: false,\n    categories: [],\n    currentCategory: '',\n  });\n\n  return <Provider value={[state, dispatch]} {...props} />;\n};\n\nconst useStoreContext = () => {\n  return useContext(StoreContext);\n};\n\nexport { StoreProvider, useStoreContext };\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { pluralize } from \"../../utils/helpers\"\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\nimport { idbPromise } from \"../../utils/helpers\";\n\nfunction ProductItem(item) {\n  const [state, dispatch] = useStoreContext();\n\n  const {\n    image,\n    name,\n    _id,\n    price,\n    quantity\n  } = item;\n\n  const { cart } = state\n\n  const addToCart = () => {\n    const itemInCart = cart.find((cartItem) => cartItem._id === _id)\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: _id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n      idbPromise('cart', 'put', {\n        ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: { ...item, purchaseQuantity: 1 }\n      });\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: 1 });\n    }\n  }\n\n  return (\n    <div className=\"card px-1 py-1\">\n      <Link to={`/products/${_id}`}>\n        <img\n          alt={name}\n          src={`/images/${image}`}\n        />\n        <p>{name}</p>\n      </Link>\n      <div>\n        <div className=\"productStock\">{quantity} {pluralize(\"item\", quantity)} in stock</div>\n        <span className=\"productStock\">${price}</span>\n      </div>\n      <button className=\"btnAdd\" onClick={addToCart}>Add to cart</button>\n    </div>\n  );\n}\n\nexport default ProductItem;\n","import { gql } from '@apollo/client';\n\nexport const QUERY_PRODUCTS = gql`\n  query getProducts($category: ID) {\n    products(category: $category) {\n      _id\n      name\n      description\n      price\n      quantity\n      image\n      category {\n        _id\n      }\n    }\n  }\n`;\n\nexport const QUERY_CHECKOUT = gql`\n  query getCheckout($products: [ID]!) {\n    checkout(products: $products) {\n      session\n    }\n  }\n`;\n\nexport const QUERY_ALL_PRODUCTS = gql`\n  {\n    products {\n      _id\n      name\n      description\n      price\n      quantity\n      category {\n        name\n      }\n    }\n  }\n`;\n\nexport const QUERY_CATEGORIES = gql`\n  {\n    categories {\n      _id\n      name\n    }\n  }\n`;\n\nexport const QUERY_USER = gql`\n {\n    user {\n      _id\n      firstName\n      lastName\n      thoughts {\n        _id\n        thoughtText\n        createdAt\n      }\n      orders {\n        _id\n        purchaseDate\n        products {\n          _id\n          name\n          description\n          price\n          quantity\n          image\n        }\n      }\n    }\n  }\n`;\n\nexport const QUERY_THOUGHTS = gql`\n  query getThoughts {\n    thoughts {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n      comments {\n        _id\n        commentText\n        commentAuthor\n        createdAt\n      }\n    }\n  }\n`;\n\nexport const QUERY_SINGLE_THOUGHT = gql`\n  query getSingleThought($_id: ID!) {\n    thought(_id: $_id) {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n      comments {\n        _id\n        commentText\n        commentAuthor\n        createdAt\n      }\n    }\n  }\n`;\n\nexport const QUERY_ME = gql`\n  query me {\n    me {\n      _id\n      firstName\n      email\n      thoughts {\n        _id\n        thoughtText\n        thoughtAuthor\n        createdAt\n      }\n    }\n  }\n`;","export default __webpack_public_path__ + \"static/media/spinner.7e729fec.gif\";","import React, { useEffect } from 'react';\nimport ProductItem from '../ProductItem';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { UPDATE_PRODUCTS } from '../../utils/actions';\nimport { useQuery } from '@apollo/client';\nimport { QUERY_PRODUCTS } from '../../utils/queries';\nimport { idbPromise } from '../../utils/helpers';\nimport spinner from '../../assets/spinner.gif';\n\nfunction ProductList() {\n  const [state, dispatch] = useStoreContext();\n\n  const { currentCategory } = state;\n\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\n\n  useEffect(() => {\n    if (data) {\n      dispatch({\n        type: UPDATE_PRODUCTS,\n        products: data.products,\n      });\n      data.products.forEach((product) => {\n        idbPromise('products', 'put', product);\n      });\n    } else if (!loading) {\n      idbPromise('products', 'get').then((products) => {\n        dispatch({\n          type: UPDATE_PRODUCTS,\n          products: products,\n        });\n      });\n    }\n  }, [data, loading, dispatch]);\n\n  function filterProducts() {\n    if (!currentCategory) {\n      return state.products;\n    }\n\n    return state.products.filter(\n      (product) => product.category._id === currentCategory\n    );\n  }\n\n  return (\n    <div className=\"container my-2\">\n      <h5>Our Products:</h5>\n      {state.products.length ? (\n        <div className=\"flex-row\">\n          {filterProducts().map((product) => (\n            <ProductItem\n              key={product._id}\n              _id={product._id}\n              image={product.image}\n              name={product.name}\n              price={product.price}\n              quantity={product.quantity}\n            />\n          ))}\n        </div>\n      ) : (\n        <h3>You haven't added any products yet!</h3>\n      )}\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\n    </div>\n  );\n}\n\nexport default ProductList;\n","import React, { useEffect } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport {\n  UPDATE_CATEGORIES,\n  UPDATE_CURRENT_CATEGORY,\n} from '../../utils/actions';\nimport { QUERY_CATEGORIES } from '../../utils/queries';\nimport { idbPromise } from '../../utils/helpers';\n\nfunction CategoryMenu() {\n  const [state, dispatch] = useStoreContext();\n\n  const { categories } = state;\n\n  const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\n\n  useEffect(() => {\n    if (categoryData) {\n      dispatch({\n        type: UPDATE_CATEGORIES,\n        categories: categoryData.categories,\n      });\n      categoryData.categories.forEach((category) => {\n        idbPromise('categories', 'put', category);\n      });\n    } else if (!loading) {\n      idbPromise('categories', 'get').then((categories) => {\n        dispatch({\n          type: UPDATE_CATEGORIES,\n          categories: categories,\n        });\n      });\n    }\n  }, [categoryData, loading, dispatch]);\n\n  const handleClick = (id) => {\n    dispatch({\n      type: UPDATE_CURRENT_CATEGORY,\n      currentCategory: id,\n    });\n  };\n\n  return (\n    <div className=''>\n      <h4>Choose a Category:</h4>\n      {categories.map((item) => (\n        <button className='catBtn'\n          key={item._id}\n          onClick={() => {\n            handleClick(item._id);\n          }}\n        >\n          {item.name}\n        </button>\n      ))}\n    </div>\n  );\n}\n\nexport default CategoryMenu;\n","import React from 'react';\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport { REMOVE_FROM_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\nimport { idbPromise } from \"../../utils/helpers\";\n\nconst CartItem = ({ item }) => {\n\n  const [, dispatch] = useStoreContext();\n\n  const removeFromCart = item => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      _id: item._id\n    });\n    idbPromise('cart', 'delete', { ...item });\n\n  };\n\n  const onChange = (e) => {\n    const value = e.target.value;\n    if (value === '0') {\n      dispatch({\n        type: REMOVE_FROM_CART,\n        _id: item._id\n      });\n      idbPromise('cart', 'delete', { ...item });\n\n    } else {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: item._id,\n        purchaseQuantity: parseInt(value)\n      });\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: parseInt(value) });\n\n    }\n  }\n\n  return (\n    <div className=\"flex-row\">\n      <div>\n        <img\n          src={`/images/${item.image}`}\n          alt=\"\"\n        />\n      </div>\n      <div>\n        <div className='cartName'>{item.name}, ${item.price}</div>\n        <div>\n          <span>Qty:</span>\n          <input\n            type=\"number\"\n            placeholder=\"1\"\n            value={item.purchaseQuantity}\n            onChange={onChange}\n          />\n          <span\n            role=\"img\"\n            aria-label=\"trash\"\n            onClick={() => removeFromCart(item)}\n          >\n            🗑️\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CartItem;\n","import decode from 'jwt-decode';\n\nclass AuthService {\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return token && !this.isTokenExpired(token) ? true : false;\n  }\n\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 1000) {\n        return true;\n      } else return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem('id_token');\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem('id_token', idToken);\n\n    window.location.assign('/');\n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem('id_token');\n    // this will reload the page and reset the state of the application\n    window.location.assign('/');\n  }\n}\n\nexport default new AuthService();\n","import React, { useEffect } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { useLazyQuery } from '@apollo/client';\nimport { QUERY_CHECKOUT } from '../../utils/queries';\nimport { idbPromise } from '../../utils/helpers';\nimport CartItem from '../CartItem';\nimport Auth from '../../utils/auth';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { TOGGLE_CART, ADD_MULTIPLE_TO_CART } from '../../utils/actions';\nimport './style.css';\n\nrequire(\"dotenv\").config();\n\n// stripePromise returns a promise with the stripe object as soon as the Stripe package loads\nconst stripePromise = loadStripe('pk_test_L1f0e3XAzjsG7jtp4uN7L9ql');\n\n\nconst Cart = () => {\n  const [state, dispatch] = useStoreContext();\n  const [getCheckout, { data }] = useLazyQuery(QUERY_CHECKOUT);\n\n  // We check to see if there is a data object that exists, if so this means that a checkout session was returned from the backend\n  // Then we should redirect to the checkout with a reference to our session id\n  useEffect(() => {\n    if (data) {\n      stripePromise.then((res) => {\n        res.redirectToCheckout({ sessionId: data.checkout.session });\n      });\n    }\n  }, [data]);\n\n  // If the cart's length or if the dispatch function is updated, check to see if the cart is empty.\n  // If so, invoke the getCart method and populate the cart with the existing from the session\n  useEffect(() => {\n    async function getCart() {\n      const cart = await idbPromise('cart', 'get');\n      dispatch({ type: ADD_MULTIPLE_TO_CART, products: [...cart] });\n    }\n\n    if (!state.cart.length) {\n      getCart();\n    }\n  }, [state.cart.length, dispatch]);\n\n  function toggleCart() {\n    dispatch({ type: TOGGLE_CART });\n  }\n\n  function calculateTotal() {\n    let sum = 0;\n    state.cart.forEach((item) => {\n      sum += item.price * item.purchaseQuantity;\n    });\n    return sum.toFixed(2);\n  }\n\n  // When the submit checkout method is invoked, loop through each item in the cart\n  // Add each item id to the productIds array and then invoke the getCheckout query passing an object containing the id for all our products\n  function submitCheckout() {\n    const productIds = [];\n\n    state.cart.forEach((item) => {\n      for (let i = 0; i < item.purchaseQuantity; i++) {\n        productIds.push(item._id);\n      }\n    });\n\n    getCheckout({\n      variables: { products: productIds },\n    });\n  }\n\n  if (!state.cartOpen) {\n    return (\n      <div className=\"cart-closed\" onClick={toggleCart}>\n        <span role=\"img\" aria-label=\"trash\">\n          🛒\n        </span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"cart\">\n      <div className=\"close\" onClick={toggleCart}>\n        [close]\n      </div>\n      <h2>Shopping Cart</h2>\n      {state.cart.length ? (\n        <div>\n          {state.cart.map((item) => (\n            <CartItem key={item._id} item={item} />\n          ))}\n\n          <div className=\"flex-row space-between\">\n            <strong>Total: ${calculateTotal()}</strong>\n\n            {Auth.loggedIn() ? (\n              <button onClick={submitCheckout}>Checkout</button>\n            ) : (\n              <span>(log in to check out)</span>\n            )}\n          </div>\n        </div>\n      ) : (\n        <h3>\n          Cart is empty\n        </h3>\n      )}\n    </div>\n  );\n};\n\nexport default Cart;\n","import React from \"react\";\nimport ProductList from \"../components/ProductList\";\nimport CategoryMenu from \"../components/CategoryMenu\";\nimport Cart from \"../components/Cart\";\n\nconst Home = () => {\n  return (\n    <div className=\"container\">\n      <CategoryMenu />\n      <ProductList />\n      <Cart />\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n\nimport Cart from '../components/Cart';\nimport { useStoreContext } from '../utils/GlobalState';\nimport {\n  REMOVE_FROM_CART,\n  UPDATE_CART_QUANTITY,\n  ADD_TO_CART,\n  UPDATE_PRODUCTS,\n} from '../utils/actions';\nimport { QUERY_PRODUCTS } from '../utils/queries';\nimport { idbPromise } from '../utils/helpers';\nimport spinner from '../assets/spinner.gif';\n\nfunction Detail() {\n  const [state, dispatch] = useStoreContext();\n  const { id } = useParams();\n\n  const [currentProduct, setCurrentProduct] = useState({});\n\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\n\n  const { products, cart } = state;\n\n  useEffect(() => {\n    // already in global store\n    if (products.length) {\n      setCurrentProduct(products.find((product) => product._id === id));\n    }\n    // retrieved from server\n    else if (data) {\n      dispatch({\n        type: UPDATE_PRODUCTS,\n        products: data.products,\n      });\n\n      data.products.forEach((product) => {\n        idbPromise('products', 'put', product);\n      });\n    }\n    // get cache from idb\n    else if (!loading) {\n      idbPromise('products', 'get').then((indexedProducts) => {\n        dispatch({\n          type: UPDATE_PRODUCTS,\n          products: indexedProducts,\n        });\n      });\n    }\n  }, [products, data, loading, dispatch, id]);\n\n  const addToCart = () => {\n    const itemInCart = cart.find((cartItem) => cartItem._id === id);\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1,\n      });\n      idbPromise('cart', 'put', {\n        ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1,\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: { ...currentProduct, purchaseQuantity: 1 },\n      });\n      idbPromise('cart', 'put', { ...currentProduct, purchaseQuantity: 1 });\n    }\n  };\n\n  const removeFromCart = () => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      _id: currentProduct._id,\n    });\n\n    idbPromise('cart', 'delete', { ...currentProduct });\n  };\n\n  return (\n    <>\n      {currentProduct && cart ? (\n        <div className=\"container my-1\">\n          <Link to=\"/\">← Back to Products</Link>\n\n          <h2>{currentProduct.name}</h2>\n\n          <p>{currentProduct.description}</p>\n\n          <p>\n            <strong>Price:</strong>${currentProduct.price}{' '}\n            <button onClick={addToCart}>Add to Cart</button>\n            <button\n              disabled={!cart.find((p) => p._id === currentProduct._id)}\n              onClick={removeFromCart}\n            >\n              Remove from Cart\n            </button>\n          </p>\n\n          <img\n            src={`/images/${currentProduct.image}`}\n            alt={currentProduct.name}\n          />\n        </div>\n      ) : null}\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\n      <Cart />\n    </>\n  );\n}\n\nexport default Detail;\n","import React from \"react\";\n\nfunction Jumbotron({ children }) {\n  return (\n    <div\n      style={{ height: 560, clear: \"both\", paddingTop: 120, textAlign: \"center\" }}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Jumbotron;\n","import React from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\n\nconst NoMatch = () => {\n  return (\n    <div>\n      <Jumbotron>\n        <h1>404 Page Not Found</h1>\n        <h1>\n          <span role=\"img\" aria-label=\"Face With Rolling Eyes Emoji\">\n            🙄\n          </span>\n        </h1>\n      </Jumbotron>\n    </div>\n  );\n};\n\nexport default NoMatch;\n","import { gql } from '@apollo/client';\n\nexport const LOGIN = gql`\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        firstName\n      }\n    }\n  }\n`;\n\nexport const ADD_ORDER = gql`\n  mutation addOrder($products: [ID]!) {\n    addOrder(products: $products) {\n      purchaseDate\n      products {\n        _id\n        name\n        description\n        price\n        quantity\n        category {\n          name\n        }\n      }\n    }\n  }\n`;\n\nexport const ADD_USER = gql`\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n`;\n\nexport const ADD_THOUGHT = gql`\n  mutation addThought($thoughtText: String!) {\n    addThought(thoughtText: $thoughtText) {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n      comments {\n        _id\n        commentText\n      }\n    }\n  }\n`;\n\nexport const REMOVE_THOUGHT = gql`\n  mutation removeThought($thoughtId: ID!) {\n    removeThought(thoughtId: $thoughtId) {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n      comments {\n        _id\n        commentText\n      }\n    }\n  }\n`;\n\nexport const ADD_COMMENT = gql`\n  mutation addComment($thoughtId: ID!, $commentText: String!) {\n    addComment(thoughtId: $thoughtId, commentText: $commentText) {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n      comments {\n        _id\n        commentText\n        createdAt\n      }\n    }\n  }\n`;\n","import React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { Link } from 'react-router-dom';\nimport { LOGIN } from '../utils/mutations';\nimport Auth from '../utils/auth';\n\nfunction Login(props) {\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [login, { error }] = useMutation(LOGIN);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const mutationResponse = await login({\n        variables: { email: formState.email, password: formState.password },\n      });\n      const token = mutationResponse.data.login.token;\n      Auth.login(token);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className=\"loginContainer container my-1\">\n      <Link to=\"/signup\">← Go to Signup</Link>\n\n      <h2>Login</h2>\n      <form onSubmit={handleFormSubmit}>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"email\">Email address:</label>\n          <input\n            placeholder=\"youremail@test.com\"\n            name=\"email\"\n            type=\"email\"\n            id=\"email\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"pwd\">Password:</label>\n          <input\n            placeholder=\"******\"\n            name=\"password\"\n            type=\"password\"\n            id=\"pwd\"\n            onChange={handleChange}\n          />\n        </div>\n        {error ? (\n          <div>\n            <p className=\"error-text\">The provided credentials are incorrect</p>\n          </div>\n        ) : null}\n        <div className=\"flex-row flex-end\">\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport Auth from '../utils/auth';\nimport { ADD_USER } from '../utils/mutations';\n\nfunction Signup(props) {\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [addUser] = useMutation(ADD_USER);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    const mutationResponse = await addUser({\n      variables: {\n        email: formState.email,\n        password: formState.password,\n        firstName: formState.firstName,\n        lastName: formState.lastName,\n      },\n    });\n    const token = mutationResponse.data.addUser.token;\n    Auth.login(token);\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className=\"loginContainer container my-1\">\n      <Link to=\"/login\">← Go to Login</Link>\n\n      <h2>Signup</h2>\n      <form onSubmit={handleFormSubmit}>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"firstName\">First Name:</label>\n          <input\n            placeholder=\"First\"\n            name=\"firstName\"\n            type=\"firstName\"\n            id=\"firstName\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"lastName\">Last Name:</label>\n          <input\n            placeholder=\"Last\"\n            name=\"lastName\"\n            type=\"lastName\"\n            id=\"lastName\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"email\">Email:</label>\n          <input\n            placeholder=\"youremail@test.com\"\n            name=\"email\"\n            type=\"email\"\n            id=\"email\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"pwd\">Password:</label>\n          <input\n            placeholder=\"******\"\n            name=\"password\"\n            type=\"password\"\n            id=\"pwd\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row flex-end\">\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Signup;\n","export default __webpack_public_path__ + \"static/media/record-playerz.389497a6.jpeg\";","import React from \"react\";\nimport Auth from \"../../utils/auth\";\nimport { Link } from \"react-router-dom\";\nimport record from \"./record-playerz.jpeg\";\n\nfunction Nav() {\n\n  return (\n    <header className=\"flex-row px-1\">\n      <h1>\n        <Link to=\"/\">\n        <img src={record} alt=\"Avatar\" width={100} className=\"avatar\" />\n        </Link>\n      </h1>\n\n      <nav>\n        {showNavigation()}\n      </nav>\n    </header>\n  );\n\n  function showNavigation() {\n    if (Auth.loggedIn()) {\n      return (\n        <ul className=\"nav\">\n          <li className=\"mx-1\">\n            <Link to=\"/forum\">\n              Forum\n            </Link>\n          </li>\n          <li className=\"mx-1\">\n            <Link to=\"/orderHistory\">\n              Order History\n            </Link>\n          </li>\n          <li className=\"mx-1\">\n            {/* this is not using the Link component to logout or user and then refresh the application to the start */}\n            <a href=\"/\" onClick={() => Auth.logout()}>\n              Logout\n            </a>\n          </li>\n        </ul>\n      );\n    } else {\n      return (\n        <ul className=\"nav\">\n          <li className=\"mx-1\">\n            <Link to=\"/signup\">\n              Signup\n            </Link>\n          </li>\n          <li className=\"mx-1\">\n            <Link to=\"/login\">\n              Login\n            </Link>\n          </li>\n        </ul>\n      );\n    }\n  }\n\n  \n}\n\nexport default Nav;\n","import React, { useEffect } from 'react';\nimport { useMutation } from '@apollo/client';\nimport Jumbotron from '../components/Jumbotron';\nimport { ADD_ORDER } from '../utils/mutations';\nimport { idbPromise } from '../utils/helpers';\n\nfunction Success() {\n  const [addOrder] = useMutation(ADD_ORDER);\n\n  useEffect(() => {\n    async function saveOrder() {\n      const cart = await idbPromise('cart', 'get');\n      const products = cart.map((item) => item._id);\n\n      if (products.length) {\n        const { data } = await addOrder({ variables: { products } });\n        const productData = data.addOrder.products;\n\n        productData.forEach((item) => {\n          idbPromise('cart', 'delete', item);\n        });\n      }\n\n      setTimeout(() => {\n        window.location.assign('/');\n      }, 3000);\n    }\n\n    saveOrder();\n  }, [addOrder]);\n\n  return (\n    <div>\n      <Jumbotron>\n        <h1>Success!</h1>\n        <h2>Thank you for your purchase!</h2>\n        <h2>You will now be redirected to the home page</h2>\n      </Jumbotron>\n    </div>\n  );\n}\n\nexport default Success;\n","import React, {useEffect, useState} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useQuery } from '@apollo/client';\nimport { QUERY_USER } from '../utils/queries';\nimport { useMutation } from '@apollo/client';\nimport { REMOVE_THOUGHT } from '../utils/mutations';\nimport { QUERY_THOUGHTS } from '../utils/queries';\n\nfunction OrderHistory() {\n  console.log('req');\n  const { data, loading  } = useQuery(QUERY_USER);\n\n  console.log({data})\n  const [user, setUser] = useState({user:{}, orders:[], thoughts:[]});\n\n  useEffect(() => {\n    console.log('eff')\n    console.log({loading, data})\n    if (data) {\n    console.log({data});\n      setUser(data.user);\n      // user = data.user;\n      // console.log(user);\n    }\n  }, [data, loading]);\n\n  const [removeThought, { error }] = useMutation(REMOVE_THOUGHT, {\n    update(cache, { data: { addThought } }) {\n      try {\n        const { thoughts } = cache.readQuery({ query: QUERY_THOUGHTS });\n\n        cache.writeQuery({\n          query: QUERY_THOUGHTS,\n          data: { thoughts: [removeThought, ...thoughts] },\n        });\n      } catch (e) {\n        console.error(e);\n      }\n\n      // update me object's cache\n      // const { me } = cache.readQuery({ query: QUERY_ME });\n      // cache.writeQuery({\n      //   query: QUERY_ME,\n      //   data: { me: { ...me, thoughts: [...me.thoughts, addThought] } },\n      // });\n    },\n  });\n\n  return (\n    <>\n      <div className=\"container px-2\">\n        <Link to=\"/\">← Back to Products</Link>\n\n        {loading ? 'Loading...' : (data &&\n          <>\n            <h2>\n              Order History for {user.firstName} {user.lastName}\n            </h2>\n            {user.orders.map((order) => (\n              <div key={order._id} className=\"my-2\">\n                <h3>\n                  {new Date(parseInt(order.purchaseDate)).toLocaleDateString()}\n                </h3>\n                <div className=\"flex-row\">\n                  {order.products.length && order.products.map(({ _id, image, name, price }, index) => (\n                    <div key={index} className=\"card px-1 py-1\">\n                      <Link to={`/products/${_id}`}>\n                        <img alt={name} src={`/images/${image}`} />\n                        <p>{name}</p>\n                      </Link>\n                      <div>\n                        <span>${price}</span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ))}\n            <h2>\n              Post History for {user.firstName}\n            </h2>\n            {user.thoughts.map((thought) => (\n              <div key={thought._id} className=\"postTexr\">\n              <h4 className=\"card-header bg-primary text-light p-2 m-0\">\n                  <Link\n                    className=\"text-light\"\n                    to={`/thoughts/${thought._id}`}\n                  >\n                    {thought.thoughtAuthor} <br />\n                  </Link>\n              </h4>\n              <div className=\"card-body bg-light p-2\">\n                <p>{thought.thoughtText}</p>\n                <a href=\"/\" >Remove</a>\n              </div>\n              \n              \n              <Link\n                className=\"btn btn-primary btn-block btn-squared\"\n                to={`/thoughts/${thought._id}`}\n              >\n                Join the discussion.\n              </Link>\n            </div>\n            ))}\n          </>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default OrderHistory;","import React from 'react';\n\nconst CommentList = ({ comments = [] }) => {\n  \n\n  return (\n    <>\n      <div className=\"\">\n        {comments &&\n          comments.map((comment) => (\n            <div key={comment._id} className=\"\">\n              <div className='commentAuthor'>\n              <p>{comment.commentAuthor}</p>\n              </div>\n              <div className=\"commentList\">\n                <p>{comment.commentText}</p>\n                <div>\n                <span style={{ fontSize: '0.6rem' }}>\n                    {comment.createdAt}\n                </span>\n              </div>\n                \n              </div>\n            </div>\n          ))}\n      </div>\n    </>\n  );\n};\n\nexport default CommentList;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport CommentList from '../CommentList';\n\nconst ThoughtList = ({\n  thoughts,\n  title,\n  showTitle = true,\n  showfirstName = true,\n}) => {\n  if (!thoughts.length) {\n    return <h3>No Thoughts Yet</h3>;\n  }\n\n  return (\n    <div>\n\n      {thoughts &&\n        thoughts.map((thought) => (\n        <div key={thought._id} className=\"post\">\n          <div>\n            <div className='thoughtAuthor'>\n              <p>{thought.thoughtAuthor}</p>\n            </div>\n\n            <div className=\"postText\">\n              <p>{thought.thoughtText}</p>            \n              <div>\n                <span style={{ fontSize: '0.6rem' }}>\n                    {thought.createdAt}\n                </span>\n              </div>\n            </div>\n            <div>\n              <CommentList comments={thought.comments} />\n            </div>\n          </div>\n            \n            <Link\n              className=\"btn btn-primary btn-block btn-squared discussion\"\n              to={`/thoughts/${thought._id}`}\n            >\n              <p className='discussion'>Join the discussion.</p>\n            </Link>\n        </div>\n        ))}\n    </div>\n  );\n};\n\nexport default ThoughtList;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\n\nimport { ADD_THOUGHT } from '../../utils/mutations';\nimport { QUERY_THOUGHTS } from '../../utils/queries';\n\nimport Auth from '../../utils/auth';\n\nconst ThoughtForm = () => {\n  const [thoughtText, setThoughtText] = useState('');\n\n  const [characterCount, setCharacterCount] = useState(0);\n\n  const [addThought, { error }] = useMutation(ADD_THOUGHT, {\n    update(cache, { data: { addThought } }) {\n      try {\n        const { thoughts } = cache.readQuery({ query: QUERY_THOUGHTS });\n\n        cache.writeQuery({\n          query: QUERY_THOUGHTS,\n          data: { thoughts: [addThought, ...thoughts] },\n        });\n      } catch (e) {\n        console.error(e);\n      }\n\n      // update me object's cache\n      // const { me } = cache.readQuery({ query: QUERY_ME });\n      // cache.writeQuery({\n      //   query: QUERY_ME,\n      //   data: { me: { ...me, thoughts: [...me.thoughts, addThought] } },\n      // });\n    },\n  });\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await addThought({\n        variables: {\n          thoughtText,\n          thoughtAuthor: Auth.getProfile().data.firstName,\n        },\n      });\n\n      setThoughtText('');\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    if (name === 'thoughtText' && value.length <= 280) {\n      setThoughtText(value);\n      setCharacterCount(value.length);\n    }\n  };\n\n  return (\n    <div>\n      <h3>What's on your mind?</h3>\n\n      {Auth.loggedIn() ? (\n        <>\n          <p\n            className={`m-0 ${\n              characterCount === 280 || error ? 'text-danger' : ''\n            }`}\n          >\n            Character Count: {characterCount}/280\n          </p>\n          <form\n            className=\"flex-row justify-center justify-space-between-md align-center\"\n            onSubmit={handleFormSubmit}\n          >\n            <div className=\"col-12 col-lg-9\">\n              <textarea\n                name=\"thoughtText\"\n                placeholder=\"...\"\n                value={thoughtText}\n                className=\"form-input w-100\"\n                style={{ lineHeight: '1.5', resize: 'vertical' }}\n                onChange={handleChange}\n              ></textarea>\n            </div>\n\n            <div className=\"col-12 col-lg-3\">\n              <button className=\"btn btn-primary btn-block py-3\" type=\"submit\">\n                Add Thought\n              </button>\n            </div>\n            {error && (\n              <div className=\"col-12 my-3 bg-danger text-white p-3\">\n                {error.message}\n              </div>\n            )}\n          </form>\n        </>\n      ) : (\n        <p>\n          You need to be logged in to share your thoughts. Please{' '}\n          <Link to=\"/login\">login</Link> or <Link to=\"/signup\">signup.</Link>\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default ThoughtForm;","import React from 'react';\nimport { useQuery } from '@apollo/client';\nimport { Link } from 'react-router-dom';\n\nimport ThoughtList from '../components/ThoughtList';\nimport ThoughtForm from '../components/ThoughtForm';\n\nimport { QUERY_THOUGHTS } from '../utils/queries';\n\nconst Forum = () => {\n  const { loading, data } = useQuery(QUERY_THOUGHTS);\n  const thoughts = data?.thoughts || [];\n\n  return (\n    <div className=\"container px-2\">\n      <Link to=\"/\"> Home</Link>\n        <div>\n          <ThoughtForm />\n        </div>\n        <div className=\"\">\n          {loading ? (\n            <div>Loading...</div>\n          ) : (\n            <ThoughtList\n              thoughts={thoughts}\n              title=\"Some Feed for Thought(s)...\"\n            />\n          )}\n        </div>\n      </div>\n\n  );\n};\n\n\n\nexport default Forum;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\n\nimport { ADD_COMMENT } from '../../utils/mutations';\n\nimport Auth from '../../utils/auth';\n\nconst CommentForm = ({ thoughtId }) => {\n  const [commentText, setCommentText] = useState('');\n  const [characterCount, setCharacterCount] = useState(0);\n\n  const [addComment, { error }] = useMutation(ADD_COMMENT);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await addComment({\n        variables: {\n          thoughtId,\n          commentText,\n          commentAuthor: Auth.getProfile().data.firstName,\n        },\n      });\n\n      setCommentText('');\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    if (name === 'commentText' && value.length <= 280) {\n      setCommentText(value);\n      setCharacterCount(value.length);\n    }\n  };\n\n  return (\n    <div>\n      <h4>What are your thoughts on this thought?</h4>\n\n      {Auth.loggedIn() ? (\n        <>\n          <p\n            className={`m-0 ${\n              characterCount === 280 || error ? 'text-danger' : ''\n            }`}\n          >\n            Character Count: {characterCount}/280\n            {error && <span className=\"ml-2\">{error.message}</span>}\n          </p>\n          <form\n            className=\"flex-row justify-center justify-space-between-md align-center\"\n            onSubmit={handleFormSubmit}\n          >\n            <div className=\"col-12 col-lg-9\">\n              <textarea\n                name=\"commentText\"\n                placeholder=\"Add your comment...\"\n                value={commentText}\n                className=\"form-input w-100\"\n                style={{ lineHeight: '1.5', resize: 'vertical' }}\n                onChange={handleChange}\n              ></textarea>\n            </div>\n\n            <div className=\"col-12 col-lg-3\">\n              <button className=\"btn btn-primary btn-block py-3\" type=\"submit\">\n                Add Comment\n              </button>\n            </div>\n          </form>\n        </>\n      ) : (\n        <p>\n          You need to be logged in to share your thoughts. Please{' '}\n          <Link to=\"/login\">login</Link> or <Link to=\"/signup\">signup.</Link>\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default CommentForm;\n","import React from 'react';\n\n// Import the `useParams()` hook\nimport { useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n\nimport CommentList from '../components/CommentList';\nimport CommentForm from '../components/CommentForm';\n\nimport { QUERY_SINGLE_THOUGHT } from '../utils/queries';\n\nconst SingleThought = () => {\n  \n  const url = window.location.pathname;\n  const id = url.substring(url.lastIndexOf('/') + 1);\n\n  const { loading, data } = useQuery(QUERY_SINGLE_THOUGHT, {\n    // pass URL parameter\n    variables: { _id: id },\n  });\n\n  const thought = data?.thought || {};\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  return (\n    <div >\n      <div>\n      <h3 className=\"\">\n        {thought.thoughtAuthor} <br />\n        <span style={{ fontSize: '1rem' }}>\n        {thought.createdAt}\n        </span>\n      </h3>\n      <div>\n        <blockquote>\n          {thought.thoughtText}\n        </blockquote>\n      </div>\n      </div>\n\n      <div className=\"\">\n        <CommentList comments={thought.comments} />\n      </div>\n      <div>\n        <CommentForm thoughtId={thought._id} />\n      </div>\n    </div>\n  );\n};\n\nexport default SingleThought;\n","import React from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n  createHttpLink,\n} from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\n\nimport Home from './pages/Home';\nimport Detail from './pages/Detail';\nimport NoMatch from './pages/NoMatch';\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport Nav from './components/Nav';\nimport { StoreProvider } from './utils/GlobalState';\nimport Success from './pages/Success';\nimport OrderHistory from './pages/OrderHistory';\nimport Forum from './pages/Forum';\nimport SingleThought from './pages/SingleThought';\n\nimport useLocalStorage from 'use-local-storage'\n\n\nconst httpLink = createHttpLink({\n  uri: '/graphql',\n});\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem('id_token');\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  const [theme, setTheme] = useLocalStorage('theme' ? 'dark' : 'light')\n\n  const switchTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme)}\n\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <div  className=\"app\" data-theme={theme}>\n          <div>\n            <label className=\"switch\" onClick={switchTheme}> {theme === \"light\" ? \"☽\" : \"☼\"}</label>\n          </div>\n          <StoreProvider>\n            <Nav>\n              </Nav>\n            <Routes>\n              <Route \n                path=\"/\" \n                element={<Home />} \n              />\n              <Route \n                path=\"/login\" \n                element={<Login />} \n              />\n              <Route \n                path=\"/signup\" \n                element={<Signup />} \n              />\n              <Route \n                path=\"/success\" \n                element={<Success />} \n              />\n              <Route \n                path=\"/orderHistory\" \n                element={<OrderHistory />} \n              />\n              <Route \n                path=\"/forum\" \n                element={<Forum />} \n              />\n              <Route \n                path=\"/products/:id\" \n                element={<Detail />} \n              />\n              <Route \n                path=\"/thoughts/:thoughtId\"\n                element={<SingleThought />}\n              />\n              <Route \n                path=\"*\" \n                element={<NoMatch />} \n              />\n            </Routes>\n          </StoreProvider>\n        </div>\n      </Router>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"]}}