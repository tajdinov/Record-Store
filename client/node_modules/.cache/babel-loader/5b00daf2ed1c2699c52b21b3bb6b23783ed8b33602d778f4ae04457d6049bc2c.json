{"ast":null,"code":"export function pluralize(name,count){if(count===1){return name;}return name+'s';}export function idbPromise(storeName,method,object){return new Promise(function(resolve,reject){var request=window.indexedDB.open('shop-shop',1);var db,tx,store;request.onupgradeneeded=function(e){var db=request.result;db.createObjectStore('products',{keyPath:'_id'});db.createObjectStore('categories',{keyPath:'_id'});db.createObjectStore('cart',{keyPath:'_id'});db.createObjectStore('thought',{keyPath:'_id'});};request.onerror=function(e){console.log('There was an error');};request.onsuccess=function(e){db=request.result;tx=db.transaction(storeName,'readwrite');store=tx.objectStore(storeName);db.onerror=function(e){console.log('error',e);};switch(method){case'put':store.put(object);resolve(object);break;case'get':var all=store.getAll();all.onsuccess=function(){resolve(all.result);};break;case'delete':store.delete(object._id);break;default:console.log('No valid method');break;}tx.oncomplete=function(){db.close();};};});}","map":{"version":3,"names":["pluralize","name","count","idbPromise","storeName","method","object","Promise","resolve","reject","request","window","indexedDB","open","db","tx","store","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close"],"sources":["/Users/tazh/Desktop/Study/Record-Store/client/src/utils/helpers.js"],"sourcesContent":["export function pluralize(name, count) {\n  if (count === 1) {\n    return name;\n  }\n  return name + 's';\n}\n\nexport function idbPromise(storeName, method, object) {\n  return new Promise((resolve, reject) => {\n    const request = window.indexedDB.open('shop-shop', 1);\n    let db, tx, store;\n    request.onupgradeneeded = function(e) {\n      const db = request.result;\n      db.createObjectStore('products', { keyPath: '_id' });\n      db.createObjectStore('categories', { keyPath: '_id' });\n      db.createObjectStore('cart', { keyPath: '_id' });\n      db.createObjectStore('thought', { keyPath: '_id'});\n    };\n\n    request.onerror = function(e) {\n      console.log('There was an error');\n    };\n\n    request.onsuccess = function(e) {\n      db = request.result;\n      tx = db.transaction(storeName, 'readwrite');\n      store = tx.objectStore(storeName);\n\n      db.onerror = function(e) {\n        console.log('error', e);\n      };\n\n      switch (method) {\n        case 'put':\n          store.put(object);\n          resolve(object);\n          break;\n        case 'get':\n          const all = store.getAll();\n          all.onsuccess = function() {\n            resolve(all.result);\n          };\n          break;\n        case 'delete':\n          store.delete(object._id);\n          break;\n        default:\n          console.log('No valid method');\n          break;\n      }\n\n      tx.oncomplete = function() {\n        db.close();\n      };\n    };\n  });\n}\n"],"mappings":"AAAA,MAAO,SAASA,UAAS,CAACC,IAAI,CAAEC,KAAK,CAAE,CACrC,GAAIA,KAAK,GAAK,CAAC,CAAE,CACf,MAAOD,KAAI,CACb,CACA,MAAOA,KAAI,CAAG,GAAG,CACnB,CAEA,MAAO,SAASE,WAAU,CAACC,SAAS,CAAEC,MAAM,CAAEC,MAAM,CAAE,CACpD,MAAO,IAAIC,QAAO,CAAC,SAACC,OAAO,CAAEC,MAAM,CAAK,CACtC,GAAMC,QAAO,CAAGC,MAAM,CAACC,SAAS,CAACC,IAAI,CAAC,WAAW,CAAE,CAAC,CAAC,CACrD,GAAIC,GAAE,CAAEC,EAAE,CAAEC,KAAK,CACjBN,OAAO,CAACO,eAAe,CAAG,SAASC,CAAC,CAAE,CACpC,GAAMJ,GAAE,CAAGJ,OAAO,CAACS,MAAM,CACzBL,EAAE,CAACM,iBAAiB,CAAC,UAAU,CAAE,CAAEC,OAAO,CAAE,KAAM,CAAC,CAAC,CACpDP,EAAE,CAACM,iBAAiB,CAAC,YAAY,CAAE,CAAEC,OAAO,CAAE,KAAM,CAAC,CAAC,CACtDP,EAAE,CAACM,iBAAiB,CAAC,MAAM,CAAE,CAAEC,OAAO,CAAE,KAAM,CAAC,CAAC,CAChDP,EAAE,CAACM,iBAAiB,CAAC,SAAS,CAAE,CAAEC,OAAO,CAAE,KAAK,CAAC,CAAC,CACpD,CAAC,CAEDX,OAAO,CAACY,OAAO,CAAG,SAASJ,CAAC,CAAE,CAC5BK,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC,CACnC,CAAC,CAEDd,OAAO,CAACe,SAAS,CAAG,SAASP,CAAC,CAAE,CAC9BJ,EAAE,CAAGJ,OAAO,CAACS,MAAM,CACnBJ,EAAE,CAAGD,EAAE,CAACY,WAAW,CAACtB,SAAS,CAAE,WAAW,CAAC,CAC3CY,KAAK,CAAGD,EAAE,CAACY,WAAW,CAACvB,SAAS,CAAC,CAEjCU,EAAE,CAACQ,OAAO,CAAG,SAASJ,CAAC,CAAE,CACvBK,OAAO,CAACC,GAAG,CAAC,OAAO,CAAEN,CAAC,CAAC,CACzB,CAAC,CAED,OAAQb,MAAM,EACZ,IAAK,KAAK,CACRW,KAAK,CAACY,GAAG,CAACtB,MAAM,CAAC,CACjBE,OAAO,CAACF,MAAM,CAAC,CACf,MACF,IAAK,KAAK,CACR,GAAMuB,IAAG,CAAGb,KAAK,CAACc,MAAM,EAAE,CAC1BD,GAAG,CAACJ,SAAS,CAAG,UAAW,CACzBjB,OAAO,CAACqB,GAAG,CAACV,MAAM,CAAC,CACrB,CAAC,CACD,MACF,IAAK,QAAQ,CACXH,KAAK,CAACe,MAAM,CAACzB,MAAM,CAAC0B,GAAG,CAAC,CACxB,MACF,QACET,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC,CAC9B,MAAM,CAGVT,EAAE,CAACkB,UAAU,CAAG,UAAW,CACzBnB,EAAE,CAACoB,KAAK,EAAE,CACZ,CAAC,CACH,CAAC,CACH,CAAC,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}