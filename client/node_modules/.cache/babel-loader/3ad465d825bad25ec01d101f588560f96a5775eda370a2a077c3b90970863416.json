{"ast":null,"code":"import _toConsumableArray from\"/Users/tazh/Desktop/Study/Record-Store/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/tazh/Desktop/Study/Record-Store/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useReducer}from\"react\";import{UPDATE_PRODUCTS,ADD_TO_CART,UPDATE_CART_QUANTITY,REMOVE_FROM_CART,ADD_MULTIPLE_TO_CART,UPDATE_CATEGORIES,UPDATE_CURRENT_CATEGORY,CLEAR_CART,TOGGLE_CART,REMOVE_THOUGHT}from\"./actions\";export var reducer=function reducer(state,action){switch(action.type){case UPDATE_PRODUCTS:console.log(action.products);return _objectSpread(_objectSpread({},state),{},{products:_toConsumableArray(action.products)});case ADD_TO_CART:return _objectSpread(_objectSpread({},state),{},{cartOpen:true,cart:[].concat(_toConsumableArray(state.cart),[action.product])});case ADD_MULTIPLE_TO_CART:return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),_toConsumableArray(action.products))});case UPDATE_CART_QUANTITY:return _objectSpread(_objectSpread({},state),{},{cartOpen:true,cart:state.cart.map(function(product){if(action._id===product._id){product.purchaseQuantity=action.purchaseQuantity;}return product;})});case REMOVE_FROM_CART:var newState=state.cart.filter(function(product){return product._id!==action._id;});return _objectSpread(_objectSpread({},state),{},{cartOpen:newState.length>0,cart:newState});case CLEAR_CART:return _objectSpread(_objectSpread({},state),{},{cartOpen:false,cart:[]});case TOGGLE_CART:return _objectSpread(_objectSpread({},state),{},{cartOpen:!state.cartOpen});case UPDATE_CATEGORIES:return _objectSpread(_objectSpread({},state),{},{categories:_toConsumableArray(action.categories)});case REMOVE_THOUGHT:return _objectSpread(_objectSpread({},state),{},{thought:action.thought});case UPDATE_CURRENT_CATEGORY:return _objectSpread(_objectSpread({},state),{},{currentCategory:action.currentCategory});default:return state;}};export function useProductReducer(initialState){return useReducer(reducer,initialState);}","map":{"version":3,"names":["useReducer","UPDATE_PRODUCTS","ADD_TO_CART","UPDATE_CART_QUANTITY","REMOVE_FROM_CART","ADD_MULTIPLE_TO_CART","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","CLEAR_CART","TOGGLE_CART","REMOVE_THOUGHT","reducer","state","action","type","console","log","products","cartOpen","cart","product","map","_id","purchaseQuantity","newState","filter","length","categories","thought","currentCategory","useProductReducer","initialState"],"sources":["/Users/tazh/Desktop/Study/Record-Store/client/src/utils/reducers.js"],"sourcesContent":["import { useReducer } from \"react\";\nimport {\n  UPDATE_PRODUCTS,\n  ADD_TO_CART,\n  UPDATE_CART_QUANTITY,\n  REMOVE_FROM_CART,\n  ADD_MULTIPLE_TO_CART,\n  UPDATE_CATEGORIES,\n  UPDATE_CURRENT_CATEGORY,\n  CLEAR_CART,\n  TOGGLE_CART,\n  REMOVE_THOUGHT,\n} from \"./actions\";\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case UPDATE_PRODUCTS:\n      console.log(action.products);\n      return {\n        ...state,\n        products: [...action.products],\n      };\n\n    case ADD_TO_CART:\n      return {\n        ...state,\n        cartOpen: true,\n        cart: [...state.cart, action.product],\n      };\n\n    case ADD_MULTIPLE_TO_CART:\n      return {\n        ...state,\n        cart: [...state.cart, ...action.products],\n      };\n\n    case UPDATE_CART_QUANTITY:\n      return {\n        ...state,\n        cartOpen: true,\n        cart: state.cart.map(product => {\n          if (action._id === product._id) {\n            product.purchaseQuantity = action.purchaseQuantity\n          }\n          return product\n        })\n      };\n\n    case REMOVE_FROM_CART:\n      let newState = state.cart.filter(product => {\n        return product._id !== action._id;\n      });\n\n      return {\n        ...state,\n        cartOpen: newState.length > 0,\n        cart: newState\n      };\n\n    case CLEAR_CART:\n      return {\n        ...state,\n        cartOpen: false,\n        cart: []\n      };\n\n    case TOGGLE_CART:\n      return {\n        ...state,\n        cartOpen: !state.cartOpen\n      };\n\n    case UPDATE_CATEGORIES:\n      return {\n        ...state,\n        categories: [...action.categories],\n      };\n\n    case REMOVE_THOUGHT: \n        return {\n          ...state,\n          thought: action.thought\n        }\n      \n\n    case UPDATE_CURRENT_CATEGORY:\n      return {\n        ...state,\n        currentCategory: action.currentCategory\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport function useProductReducer(initialState) {\n  return useReducer(reducer, initialState)\n}\n"],"mappings":"6QAAA,OAASA,UAAU,KAAQ,OAAO,CAClC,OACEC,eAAe,CACfC,WAAW,CACXC,oBAAoB,CACpBC,gBAAgB,CAChBC,oBAAoB,CACpBC,iBAAiB,CACjBC,uBAAuB,CACvBC,UAAU,CACVC,WAAW,CACXC,cAAc,KACT,WAAW,CAElB,MAAO,IAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIC,KAAK,CAAEC,MAAM,CAAK,CACxC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAKb,gBAAe,CAClBc,OAAO,CAACC,GAAG,CAACH,MAAM,CAACI,QAAQ,CAAC,CAC5B,sCACKL,KAAK,MACRK,QAAQ,oBAAMJ,MAAM,CAACI,QAAQ,CAAC,GAGlC,IAAKf,YAAW,CACd,sCACKU,KAAK,MACRM,QAAQ,CAAE,IAAI,CACdC,IAAI,8BAAMP,KAAK,CAACO,IAAI,GAAEN,MAAM,CAACO,OAAO,EAAC,GAGzC,IAAKf,qBAAoB,CACvB,sCACKO,KAAK,MACRO,IAAI,8BAAMP,KAAK,CAACO,IAAI,qBAAKN,MAAM,CAACI,QAAQ,EAAC,GAG7C,IAAKd,qBAAoB,CACvB,sCACKS,KAAK,MACRM,QAAQ,CAAE,IAAI,CACdC,IAAI,CAAEP,KAAK,CAACO,IAAI,CAACE,GAAG,CAAC,SAAAD,OAAO,CAAI,CAC9B,GAAIP,MAAM,CAACS,GAAG,GAAKF,OAAO,CAACE,GAAG,CAAE,CAC9BF,OAAO,CAACG,gBAAgB,CAAGV,MAAM,CAACU,gBAAgB,CACpD,CACA,MAAOH,QAAO,CAChB,CAAC,CAAC,GAGN,IAAKhB,iBAAgB,CACnB,GAAIoB,SAAQ,CAAGZ,KAAK,CAACO,IAAI,CAACM,MAAM,CAAC,SAAAL,OAAO,CAAI,CAC1C,MAAOA,QAAO,CAACE,GAAG,GAAKT,MAAM,CAACS,GAAG,CACnC,CAAC,CAAC,CAEF,sCACKV,KAAK,MACRM,QAAQ,CAAEM,QAAQ,CAACE,MAAM,CAAG,CAAC,CAC7BP,IAAI,CAAEK,QAAQ,GAGlB,IAAKhB,WAAU,CACb,sCACKI,KAAK,MACRM,QAAQ,CAAE,KAAK,CACfC,IAAI,CAAE,EAAE,GAGZ,IAAKV,YAAW,CACd,sCACKG,KAAK,MACRM,QAAQ,CAAE,CAACN,KAAK,CAACM,QAAQ,GAG7B,IAAKZ,kBAAiB,CACpB,sCACKM,KAAK,MACRe,UAAU,oBAAMd,MAAM,CAACc,UAAU,CAAC,GAGtC,IAAKjB,eAAc,CACf,sCACKE,KAAK,MACRgB,OAAO,CAAEf,MAAM,CAACe,OAAO,GAI7B,IAAKrB,wBAAuB,CAC1B,sCACKK,KAAK,MACRiB,eAAe,CAAEhB,MAAM,CAACgB,eAAe,GAG3C,QACE,MAAOjB,MAAK,CAAC,CAEnB,CAAC,CAED,MAAO,SAASkB,kBAAiB,CAACC,YAAY,CAAE,CAC9C,MAAO/B,WAAU,CAACW,OAAO,CAAEoB,YAAY,CAAC,CAC1C"},"metadata":{},"sourceType":"module","externalDependencies":[]}